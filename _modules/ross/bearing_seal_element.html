<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ross.bearing_seal_element &#8212; ross 1.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx_copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/style.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../_static/ross-logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/ross-logo.svg"></span>
          ROSS</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../tutorials.html">Tutorial</a></li>
                <li><a href="../../examples.html">Examples</a></li>
                <li><a href="../../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#install-python">Install Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#install-ross">Install ROSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/tutorial_part_1.html">Tutorial - Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/tutorial_part_2.html">Tutorial - Running Analyzes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/tutorial_part_3.html">Tutorial - Stochastic ROSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#ross-examples">ROSS Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#fluidflow-examples">FluidFlow Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#stochastic-ross-examples">Stochastic ROSS Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../download.html">Download notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#material">Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#elements">Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#rotor-and-results">Rotor and Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#feedback-and-contribution">Feedback and Contribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#code-style-black">Code style: Black</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#how-to-contribute-to-ross-using-git">How to contribute to ROSS using git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#making-new-releases">Making new releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../release_notes.html#version-v1-0-0">Version v1.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release_notes.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release_notes.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release_notes.html#version-0-2-0-beta-release">Version 0.2.0 (beta release)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release_notes.html#version-0-1-0-alpha-release">Version 0.1.0 (alpha release)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <h1>Source code for ross.bearing_seal_element</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Bearing Element module.</span>

<span class="sd">This module defines the BearingElement classes which will be used to represent the rotor</span>
<span class="sd">bearings and seals. There are 7 different classes to represent bearings options,</span>
<span class="sd">and 2 element options with 8 or 12 degrees of freedom.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># fmt: off</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">toml</span>
<span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">graph_objects</span> <span class="k">as</span> <span class="n">go</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">interpolate</span> <span class="k">as</span> <span class="n">interpolate</span>

<span class="kn">from</span> <span class="nn">ross.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="kn">from</span> <span class="nn">ross.fluid_flow</span> <span class="kn">import</span> <span class="n">fluid_flow</span> <span class="k">as</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">ross.fluid_flow.fluid_flow_coefficients</span> <span class="kn">import</span> \
    <span class="n">calculate_stiffness_and_damping_coefficients</span>
<span class="kn">from</span> <span class="nn">ross.units</span> <span class="kn">import</span> <span class="n">Q_</span><span class="p">,</span> <span class="n">check_units</span>
<span class="kn">from</span> <span class="nn">ross.utils</span> <span class="kn">import</span> <span class="n">read_table_file</span>

<span class="c1"># fmt: on</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;BearingElement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SealElement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BallBearingElement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;RollerBearingElement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BearingFluidFlow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BearingElement6DoF&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MagneticBearingElement&quot;</span><span class="p">,</span>
<span class="p">]</span>


<span class="k">class</span> <span class="nc">_Coefficient</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Auxiliary bearing coefficient class.</span>

<span class="sd">    This class takes bearing elements&#39; coefficients and frequencies values and</span>
<span class="sd">    interpolate the arrays when necessary.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    coefficient : int, float, array, pint.Quantity</span>
<span class="sd">        Bearing element stiffness or damping coefficient (direct or cross-coupled).</span>
<span class="sd">        If coefficient is int or float, it is considered constant along the frequency</span>
<span class="sd">        array. If coefficient is an array, it&#39;s interpolated with the frequency array.</span>
<span class="sd">    frequency: array, pint.Quantity, optional</span>
<span class="sd">        Array with the frequencies (rad/s).</span>
<span class="sd">        Frequency is optional only if coefficient is an int or a float (constant value).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    The bearing element dynamic coefficient.</span>
<span class="sd">        Kxx, Kxy, Kyx, Kyy, Cxx, Cxy, Cyx, Cyy.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">    &gt;&gt;&gt; bearing.kxx # doctest: +ELLIPSIS</span>
<span class="sd">    [1000000.0...</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coefficient</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coefficient</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">:</span>
                <span class="n">coefficient</span> <span class="o">=</span> <span class="p">[</span><span class="n">coefficient</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frequency</span><span class="p">))]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">coefficient</span> <span class="o">=</span> <span class="p">[</span><span class="n">coefficient</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span> <span class="o">=</span> <span class="n">coefficient</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">interpolated</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">UnivariateSpline</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span>
                    <span class="p">)</span>
            <span class="c1">#  dfitpack.error is not exposed by scipy</span>
            <span class="c1">#  so a bare except is used</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">interpolated</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
                            <span class="n">kind</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
                            <span class="n">fill_value</span><span class="o">=</span><span class="s2">&quot;extrapolate&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;Arguments (coefficients and frequency)&quot;</span>
                        <span class="s2">&quot; must have the same dimension&quot;</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">interpolated</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Equality method for comparasions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other: object</span>
<span class="sd">            The second object to be compared with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the comparison is true; False otherwise.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing1 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing2 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing1.kxx == bearing2.kxx</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;coefficient&quot;</span><span class="p">],</span> <span class="n">other</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;coefficient&quot;</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of a bearing element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        A string representation of a bearing element object.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.cxx # doctest: +ELLIPSIS</span>
<span class="sd">        [200.0, 200.0, 200.0,...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return an element from the coeffcient array.</span>

<span class="sd">        This method allows the elements from the coefficient array to be returned as</span>
<span class="sd">        ints or floats, given an index (item).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        item : int, slices</span>
<span class="sd">            Array index.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        An element from the coefficient array.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.kxx[0]</span>
<span class="sd">        1000000.0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficient</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency_units</span><span class="o">=</span><span class="s2">&quot;rad/s&quot;</span><span class="p">,</span> <span class="n">y_units</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Plot coefficient vs frequency.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency_units : str</span>
<span class="sd">            Frequency units.</span>
<span class="sd">            Default is rad/s.</span>
<span class="sd">        y_units : str</span>
<span class="sd">        **kwargs : optional</span>
<span class="sd">            Additional key word arguments can be passed to change the plot layout only</span>
<span class="sd">            (e.g. width=1000, height=800, ...).</span>
<span class="sd">            *See Plotly Python Figure Reference for more information.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fig : Plotly graph_objects.Figure()</span>
<span class="sd">            The figure object with the plot.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; fig = bearing.kxx.plot()</span>
<span class="sd">        &gt;&gt;&gt; # fig.show()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">frequency_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">),</span> <span class="mi">30</span><span class="p">)</span>
        <span class="n">y_value</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">Q_</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency_range</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficient_default_units</span><span class="p">)</span>
            <span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">y_units</span><span class="p">)</span>
            <span class="o">.</span><span class="n">m</span>
        <span class="p">)</span>
        <span class="n">frequency_range</span> <span class="o">=</span> <span class="n">Q_</span><span class="p">(</span><span class="n">frequency_range</span><span class="p">,</span> <span class="s2">&quot;rad/s&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">frequency_units</span><span class="p">)</span><span class="o">.</span><span class="n">m</span>

        <span class="k">if</span> <span class="n">fig</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">frequency_range</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">y_value</span><span class="p">,</span>
                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
                <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">hovertemplate</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Frequency (</span><span class="si">{</span><span class="n">frequency_units</span><span class="si">}</span><span class="s2">): %</span><span class="se">{{</span><span class="s2">x:.2f</span><span class="se">}}</span><span class="s2">&lt;br&gt; Coefficient (</span><span class="si">{</span><span class="n">y_units</span><span class="si">}</span><span class="s2">): %</span><span class="se">{{</span><span class="s2">y:.3e</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Frequency (</span><span class="si">{</span><span class="n">frequency_units</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">exponentformat</span><span class="o">=</span><span class="s2">&quot;power&quot;</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fig</span>


<span class="k">class</span> <span class="nc">_Stiffness_Coefficient</span><span class="p">(</span><span class="n">_Coefficient</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stiffness coefficient auxiliary class.</span>

<span class="sd">    Inherits from _Coefficient class. It will adapt the plot layout to stiffness</span>
<span class="sd">    coefficients.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">coefficient_default_units</span> <span class="o">=</span> <span class="s2">&quot;N/m&quot;</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency_units</span><span class="o">=</span><span class="s2">&quot;rad/s&quot;</span><span class="p">,</span> <span class="n">stiffness_units</span><span class="o">=</span><span class="s2">&quot;N/m&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Plot stiffness coefficient vs frequency.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency_units : str</span>
<span class="sd">            Frequency units.</span>
<span class="sd">            Default is rad/s.</span>
<span class="sd">        stiffness_units : str</span>
<span class="sd">            Stiffness units.</span>
<span class="sd">            Default is N/m.</span>
<span class="sd">        **kwargs : optional</span>
<span class="sd">            Additional key word arguments can be passed to change the plot layout only</span>
<span class="sd">            (e.g. width=1000, height=800, ...).</span>
<span class="sd">            *See Plotly Python Figure Reference for more information.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fig : Plotly graph_objects.Figure()</span>
<span class="sd">            The figure object with the plot.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; fig = bearing.kxx.plot()</span>
<span class="sd">        &gt;&gt;&gt; # fig.show()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="n">frequency_units</span><span class="o">=</span><span class="n">frequency_units</span><span class="p">,</span> <span class="n">y_units</span><span class="o">=</span><span class="n">stiffness_units</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Stiffness (</span><span class="si">{</span><span class="n">stiffness_units</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fig</span>


<span class="k">class</span> <span class="nc">_Damping_Coefficient</span><span class="p">(</span><span class="n">_Coefficient</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stiffness coefficient auxiliary class.</span>

<span class="sd">    Inherits from _Coefficient class. It will adapt the plot layout to damping</span>
<span class="sd">    coefficients.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">coefficient_default_units</span> <span class="o">=</span> <span class="s2">&quot;N*s/m&quot;</span>

    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency_units</span><span class="o">=</span><span class="s2">&quot;rad/s&quot;</span><span class="p">,</span> <span class="n">damping_units</span><span class="o">=</span><span class="s2">&quot;N*s/m&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Plot damping coefficient vs frequency.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        **kwargs : optional</span>
<span class="sd">            Additional key word arguments can be passed to change the plot layout only</span>
<span class="sd">            (e.g. width=1000, height=800, ...).</span>
<span class="sd">            *See Plotly Python Figure Reference for more information.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fig : Plotly graph_objects.Figure()</span>
<span class="sd">            The figure object with the plot.</span>

<span class="sd">        Example</span>
<span class="sd">        -------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; fig = bearing.cxx.plot()</span>
<span class="sd">        &gt;&gt;&gt; # fig.show()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="n">frequency_units</span><span class="o">=</span><span class="n">frequency_units</span><span class="p">,</span> <span class="n">y_units</span><span class="o">=</span><span class="n">damping_units</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Damping (</span><span class="si">{</span><span class="n">damping_units</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">fig</span>


<div class="viewcode-block" id="BearingElement"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement">[docs]</a><span class="k">class</span> <span class="nc">BearingElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bearing element.</span>

<span class="sd">    This class will create a bearing element.</span>
<span class="sd">    Parameters can be a constant value or speed dependent.</span>
<span class="sd">    For speed dependent parameters, each argument should be passed</span>
<span class="sd">    as an array and the correspondent speed values should also be</span>
<span class="sd">    passed as an array.</span>
<span class="sd">    Values for each parameter will be interpolated for the speed.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n : int</span>
<span class="sd">        Node which the bearing will be located in</span>
<span class="sd">    kxx : float, array, pint.Quantity</span>
<span class="sd">        Direct stiffness in the x direction (N/m).</span>
<span class="sd">    cxx : float, array, pint.Quantity</span>
<span class="sd">        Direct damping in the x direction (N*s/m).</span>
<span class="sd">    kyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct stiffness in the y direction (N/m).</span>
<span class="sd">        (defaults to kxx)</span>
<span class="sd">    cyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct damping in the y direction (N*s/m).</span>
<span class="sd">        (defaults to cxx)</span>
<span class="sd">    kxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled stiffness in the x direction (N/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    cxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled damping in the x direction (N*s/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    kyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled stiffness in the y direction (N/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    cyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled damping in the y direction (N*s/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    frequency : array, pint.Quantity, optional</span>
<span class="sd">        Array with the frequencies (rad/s).</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>
<span class="sd">    color : str, optional</span>
<span class="sd">        A color to be used when the element is represented.</span>
<span class="sd">        Default is &#39;#355d7a&#39; (Cardinal).</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # A bearing element located in the first rotor node, with these</span>
<span class="sd">    &gt;&gt;&gt; # following stiffness and damping coefficients and speed range from</span>
<span class="sd">    &gt;&gt;&gt; # 0 to 200 rad/s</span>
<span class="sd">    &gt;&gt;&gt; import ross as rs</span>
<span class="sd">    &gt;&gt;&gt; kxx = 1e6</span>
<span class="sd">    &gt;&gt;&gt; kyy = 0.8e6</span>
<span class="sd">    &gt;&gt;&gt; cxx = 2e2</span>
<span class="sd">    &gt;&gt;&gt; cyy = 1.5e2</span>
<span class="sd">    &gt;&gt;&gt; frequency = np.linspace(0, 200, 11)</span>
<span class="sd">    &gt;&gt;&gt; bearing0 = rs.BearingElement(n=0, kxx=kxx, kyy=kyy, cxx=cxx, cyy=cyy, frequency=frequency)</span>
<span class="sd">    &gt;&gt;&gt; bearing0.K(frequency) # doctest: +ELLIPSIS</span>
<span class="sd">    array([[[1000000., 1000000., ...</span>
<span class="sd">    &gt;&gt;&gt; bearing0.C(frequency) # doctest: +ELLIPSIS</span>
<span class="sd">    array([[[200., 200., ...</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BearingElement.__init__"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.__init__">[docs]</a>    <span class="nd">@check_units</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">kxx</span><span class="p">,</span>
        <span class="n">cxx</span><span class="p">,</span>
        <span class="n">kyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">kxy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">kyx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">cyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cxy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">cyx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#355d7a&quot;</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kxx&quot;</span><span class="p">,</span> <span class="s2">&quot;kyy&quot;</span><span class="p">,</span> <span class="s2">&quot;kxy&quot;</span><span class="p">,</span> <span class="s2">&quot;kyx&quot;</span><span class="p">,</span> <span class="s2">&quot;cxx&quot;</span><span class="p">,</span> <span class="s2">&quot;cyy&quot;</span><span class="p">,</span> <span class="s2">&quot;cxy&quot;</span><span class="p">,</span> <span class="s2">&quot;cyx&quot;</span><span class="p">]</span>

        <span class="c1"># all args to coefficients</span>
        <span class="n">args_dict</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
        <span class="n">coefficients</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">kyy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;kyy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kxx</span>
        <span class="k">if</span> <span class="n">cyy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;cyy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cxx</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;k&quot;</span><span class="p">:</span>
                <span class="n">coefficients</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">_Stiffness_Coefficient</span><span class="p">(</span>
                    <span class="n">coefficient</span><span class="o">=</span><span class="n">args_dict</span><span class="p">[</span><span class="n">arg</span><span class="p">],</span> <span class="n">frequency</span><span class="o">=</span><span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">coefficients</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">_Damping_Coefficient</span><span class="p">(</span>
                    <span class="n">args_dict</span><span class="p">[</span><span class="n">arg</span><span class="p">],</span> <span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span>
                <span class="p">)</span>

        <span class="n">coefficients_len</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">coefficient</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

        <span class="k">if</span> <span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span><span class="p">:</span>
            <span class="n">coefficients_len</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">coefficients_len</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Arguments (coefficients and frequency)&quot;</span>
                    <span class="s2">&quot; must have the same dimension&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coefficients_len</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;Arguments (coefficients and frequency)&quot;</span>
                        <span class="s2">&quot; must have the same dimension&quot;</span>
                    <span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span> <span class="o">=</span> <span class="n">n_link</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_l</span> <span class="o">=</span> <span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_r</span> <span class="o">=</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="n">frequency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="n">scale_factor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dof_global_index</span> <span class="o">=</span> <span class="kc">None</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of a bearing element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        A string representation of a bearing element object.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing # doctest: +ELLIPSIS</span>
<span class="sd">        BearingElement(n=0, n_link=None,</span>
<span class="sd">         kxx=[...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;(n=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="si">}</span><span class="s2">, n_link=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n_link</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; kxx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="si">}</span><span class="s2">, kxy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; kyx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="si">}</span><span class="s2">, kyy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; cxx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="si">}</span><span class="s2">, cxy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; cyx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="si">}</span><span class="s2">, cyy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; frequency=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="si">}</span><span class="s2">, tag=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="si">!r}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Equality method for comparasions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other: object</span>
<span class="sd">            The second object to be compared with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the comparison is true; False otherwise.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing1 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing2 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing1 == bearing2</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">compared_attributes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;kxx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kyy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kxy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kyx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cxx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cyy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cxy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cyx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
            <span class="s2">&quot;n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;n_link&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
                    <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">compared_attributes</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>

<div class="viewcode-block" id="BearingElement.save"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">toml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
            <span class="s2">&quot;kxx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cxx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kyy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kxy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kyx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cyy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cxy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cyx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
            <span class="s2">&quot;n_link&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span><span class="p">,</span>
            <span class="s2">&quot;scale_factor&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span>

        <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">toml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="BearingElement.dof_mapping"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.dof_mapping">[docs]</a>    <span class="k">def</span> <span class="nf">dof_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Degrees of freedom mapping.</span>

<span class="sd">        Returns a dictionary with a mapping between degree of freedom and its</span>
<span class="sd">        index.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dof_mapping : dict</span>
<span class="sd">            A dictionary containing the degrees of freedom and their indexes.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        The numbering of the degrees of freedom for each node.</span>

<span class="sd">        Being the following their ordering for a node:</span>

<span class="sd">        x_0 - horizontal translation</span>
<span class="sd">        y_0 - vertical translation</span>

<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.dof_mapping()</span>
<span class="sd">        {&#39;x_0&#39;: 0, &#39;y_0&#39;: 1}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x_0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_0</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="BearingElement.M"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.M">[docs]</a>    <span class="k">def</span> <span class="nf">M</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Mass matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the mass matrix for an instance of a bearing</span>
<span class="sd">        element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        M : np.ndarray</span>
<span class="sd">            Mass matrix (kg).</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.M()</span>
<span class="sd">        array([[0., 0.],</span>
<span class="sd">               [0., 0.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">M</span></div>

<div class="viewcode-block" id="BearingElement.K"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.K">[docs]</a>    <span class="k">def</span> <span class="nf">K</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Stiffness matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the stiffness matrix for an instance of a bearing</span>
<span class="sd">        element.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency : float</span>
<span class="sd">            The excitation frequency (rad/s).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        K : np.ndarray</span>
<span class="sd">            A 2x2 matrix of floats containing the kxx, kxy, kyx, and kyy values.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.K(0)</span>
<span class="sd">        array([[1000000.,       0.],</span>
<span class="sd">               [      0.,  800000.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kxx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kyy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kxy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kyx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>

        <span class="n">K</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">kxx</span><span class="p">,</span> <span class="n">kxy</span><span class="p">],</span> <span class="p">[</span><span class="n">kyx</span><span class="p">,</span> <span class="n">kyy</span><span class="p">]])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># fmt: off</span>
            <span class="n">K</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">K</span><span class="p">,</span> <span class="o">-</span><span class="n">K</span><span class="p">]),</span>
                           <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="o">-</span><span class="n">K</span><span class="p">,</span> <span class="n">K</span><span class="p">])))</span>
            <span class="c1"># fmt: on</span>

        <span class="k">return</span> <span class="n">K</span></div>

<div class="viewcode-block" id="BearingElement.C"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.C">[docs]</a>    <span class="k">def</span> <span class="nf">C</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Damping matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the damping matrix for an instance of a bearing</span>
<span class="sd">        element.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency : float</span>
<span class="sd">            The excitation frequency (rad/s).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        C : np.ndarray</span>
<span class="sd">            A 2x2 matrix of floats containing the cxx, cxy, cyx, and cyy values (N*s/m).</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.C(0)</span>
<span class="sd">        array([[200.,   0.],</span>
<span class="sd">               [  0., 150.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cxx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cyy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cxy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cyx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>

        <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">cxx</span><span class="p">,</span> <span class="n">cxy</span><span class="p">],</span> <span class="p">[</span><span class="n">cyx</span><span class="p">,</span> <span class="n">cyy</span><span class="p">]])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># fmt: off</span>
            <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">C</span><span class="p">,</span> <span class="o">-</span><span class="n">C</span><span class="p">]),</span>
                           <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="o">-</span><span class="n">C</span><span class="p">,</span> <span class="n">C</span><span class="p">])))</span>
            <span class="c1"># fmt: on</span>

        <span class="k">return</span> <span class="n">C</span></div>

<div class="viewcode-block" id="BearingElement.G"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.G">[docs]</a>    <span class="k">def</span> <span class="nf">G</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gyroscopic matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the mass matrix for an instance of a bearing</span>
<span class="sd">        element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        G : np.ndarray</span>
<span class="sd">            A 2x2 matrix of floats.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.G()</span>
<span class="sd">        array([[0., 0.],</span>
<span class="sd">               [0., 0.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">G</span></div>

    <span class="k">def</span> <span class="nf">_patch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">fig</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Bearing element patch.</span>

<span class="sd">        Patch that will be used to draw the bearing element using Plotly library.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        position : tuple</span>
<span class="sd">            Position (z, y_low, y_upp) in which the patch will be drawn.</span>
<span class="sd">        fig : plotly.graph_objects.Figure</span>
<span class="sd">            The figure object which traces are added on.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        fig : plotly.graph_objects.Figure</span>
<span class="sd">            The figure object which traces are added on.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_values</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">legendgroup</span><span class="o">=</span><span class="s2">&quot;bearings&quot;</span><span class="p">,</span>
            <span class="n">showlegend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">hoverinfo</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># geometric factors</span>
        <span class="n">zpos</span><span class="p">,</span> <span class="n">ypos</span><span class="p">,</span> <span class="n">ypos_s</span> <span class="o">=</span> <span class="n">position</span>

        <span class="n">icon_h</span> <span class="o">=</span> <span class="n">ypos_s</span> <span class="o">-</span> <span class="n">ypos</span>  <span class="c1"># bearing icon height</span>
        <span class="n">icon_w</span> <span class="o">=</span> <span class="n">icon_h</span> <span class="o">/</span> <span class="mf">2.0</span>  <span class="c1"># bearing icon width</span>
        <span class="n">coils</span> <span class="o">=</span> <span class="mi">6</span>  <span class="c1"># number of points to generate spring</span>
        <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># number of ground lines</span>
        <span class="n">step</span> <span class="o">=</span> <span class="n">icon_w</span> <span class="o">/</span> <span class="p">(</span><span class="n">coils</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># spring step</span>

        <span class="n">zs0</span> <span class="o">=</span> <span class="n">zpos</span> <span class="o">-</span> <span class="p">(</span><span class="n">icon_w</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">zs1</span> <span class="o">=</span> <span class="n">zpos</span> <span class="o">+</span> <span class="p">(</span><span class="n">icon_w</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">ys0</span> <span class="o">=</span> <span class="n">ypos</span> <span class="o">+</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="n">icon_h</span>

        <span class="c1"># plot bottom base</span>
        <span class="n">x_bot</span> <span class="o">=</span> <span class="p">[</span><span class="n">zpos</span><span class="p">,</span> <span class="n">zpos</span><span class="p">,</span> <span class="n">zs0</span><span class="p">,</span> <span class="n">zs1</span><span class="p">]</span>
        <span class="n">yl_bot</span> <span class="o">=</span> <span class="p">[</span><span class="n">ypos</span><span class="p">,</span> <span class="n">ys0</span><span class="p">,</span> <span class="n">ys0</span><span class="p">,</span> <span class="n">ys0</span><span class="p">]</span>
        <span class="n">yu_bot</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_bot</span><span class="p">]</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x_bot</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_bot</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x_bot</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_bot</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot top base</span>
        <span class="n">x_top</span> <span class="o">=</span> <span class="p">[</span><span class="n">zpos</span><span class="p">,</span> <span class="n">zpos</span><span class="p">,</span> <span class="n">zs0</span><span class="p">,</span> <span class="n">zs1</span><span class="p">]</span>
        <span class="n">yl_top</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ypos</span> <span class="o">+</span> <span class="n">icon_h</span><span class="p">,</span>
            <span class="n">ypos</span> <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">icon_h</span><span class="p">,</span>
            <span class="n">ypos</span> <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">icon_h</span><span class="p">,</span>
            <span class="n">ypos</span> <span class="o">+</span> <span class="mf">0.75</span> <span class="o">*</span> <span class="n">icon_h</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">yu_top</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_top</span><span class="p">]</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x_top</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_top</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x_top</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_top</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot ground</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">zl_g</span> <span class="o">=</span> <span class="p">[</span><span class="n">zs0</span> <span class="o">-</span> <span class="n">step</span><span class="p">,</span> <span class="n">zs1</span> <span class="o">+</span> <span class="n">step</span><span class="p">]</span>
            <span class="n">yl_g</span> <span class="o">=</span> <span class="p">[</span><span class="n">yl_top</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">yl_top</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="n">yu_g</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_g</span><span class="p">]</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">zl_g</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_g</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">zl_g</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_g</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

            <span class="n">step2</span> <span class="o">=</span> <span class="p">(</span><span class="n">zl_g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">zl_g</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">n</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">zl_g2</span> <span class="o">=</span> <span class="p">[(</span><span class="n">zs0</span> <span class="o">-</span> <span class="n">step</span><span class="p">)</span> <span class="o">+</span> <span class="n">step2</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">zs0</span> <span class="o">-</span> <span class="n">step</span><span class="p">)</span> <span class="o">+</span> <span class="n">step2</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
                <span class="n">yl_g2</span> <span class="o">=</span> <span class="p">[</span><span class="n">yl_g</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.1</span> <span class="o">*</span> <span class="n">yl_g</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                <span class="n">yu_g2</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_g2</span><span class="p">]</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">zl_g2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_g2</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">zl_g2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_g2</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot spring</span>
        <span class="n">z_spring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">zs0</span><span class="p">,</span> <span class="n">zs0</span><span class="p">,</span> <span class="n">zs0</span><span class="p">,</span> <span class="n">zs0</span><span class="p">])</span>
        <span class="n">yl_spring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">ys0</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="n">step</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="n">icon_w</span> <span class="o">-</span> <span class="n">step</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="n">icon_w</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">coils</span><span class="p">):</span>
            <span class="n">z_spring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">z_spring</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">zs0</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">**</span> <span class="n">i</span> <span class="o">*</span> <span class="n">step</span><span class="p">)</span>
            <span class="n">yl_spring</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">yl_spring</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">step</span><span class="p">)</span>
        <span class="n">yu_spring</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_spring</span><span class="p">]</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_spring</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_spring</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_spring</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_spring</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot damper - base</span>
        <span class="n">z_damper1</span> <span class="o">=</span> <span class="p">[</span><span class="n">zs1</span><span class="p">,</span> <span class="n">zs1</span><span class="p">]</span>
        <span class="n">yl_damper1</span> <span class="o">=</span> <span class="p">[</span><span class="n">ys0</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">]</span>
        <span class="n">yu_damper1</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_damper1</span><span class="p">]</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_damper1</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_damper1</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot damper - center</span>
        <span class="n">z_damper2</span> <span class="o">=</span> <span class="p">[</span><span class="n">zs1</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">zs1</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">zs1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">zs1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">]</span>
        <span class="n">yl_damper2</span> <span class="o">=</span> <span class="p">[</span><span class="n">ys0</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span> <span class="n">ys0</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">step</span><span class="p">]</span>
        <span class="n">yu_damper2</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_damper2</span><span class="p">]</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_damper2</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper2</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_damper2</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="c1"># plot damper - top</span>
        <span class="n">z_damper3</span> <span class="o">=</span> <span class="p">[</span><span class="n">z_damper2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z_damper2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">zs1</span><span class="p">,</span> <span class="n">zs1</span><span class="p">]</span>
        <span class="n">yl_damper3</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ys0</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span>
            <span class="n">ys0</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span>
            <span class="n">ys0</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">step</span><span class="p">,</span>
            <span class="n">ypos</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">icon_w</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">yu_damper3</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">y</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">yl_damper3</span><span class="p">]</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yl_damper3</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">z_damper3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yu_damper3</span><span class="p">,</span> <span class="o">**</span><span class="n">default_values</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">fig</span>

<div class="viewcode-block" id="BearingElement.table_to_toml"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.table_to_toml">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">table_to_toml</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert bearing parameters to toml.</span>

<span class="sd">        Convert a table with parameters of a bearing element to a dictionary ready to</span>
<span class="sd">        save to a toml file that can be later loaded by ross.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n : int</span>
<span class="sd">            The node in which the bearing will be located in the rotor.</span>
<span class="sd">        file : str</span>
<span class="sd">            Path to the file containing the bearing parameters.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        data : dict</span>
<span class="sd">            A dict that is ready to save to toml and readable by ross.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; import os</span>
<span class="sd">        &gt;&gt;&gt; file_path = os.path.dirname(os.path.realpath(__file__)) + &#39;/tests/data/bearing_seal_si.xls&#39;</span>
<span class="sd">        &gt;&gt;&gt; BearingElement.table_to_toml(0, file_path) # doctest: +ELLIPSIS</span>
<span class="sd">        {&#39;n&#39;: 0, &#39;kxx&#39;: array([...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">b_elem</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_table</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
            <span class="s2">&quot;kxx&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">kxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;cxx&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">cxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;kyy&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">kyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;kxy&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">kxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;kyx&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">kyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;cyy&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">cyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;cxy&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">cxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;cyx&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">cyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">,</span>
            <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="n">b_elem</span><span class="o">.</span><span class="n">frequency</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="BearingElement.from_table"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement.html#ross.BearingElement.from_table">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_table</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">file</span><span class="p">,</span>
        <span class="n">sheet_name</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#355d7a&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a bearing using inputs from an Excel table.</span>

<span class="sd">        A header with the names of the columns is required. These names should match the</span>
<span class="sd">        names expected by the routine (usually the names of the parameters, but also</span>
<span class="sd">        similar ones). The program will read every row bellow the header</span>
<span class="sd">        until they end or it reaches a NaN.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n : int</span>
<span class="sd">            The node in which the bearing will be located in the rotor.</span>
<span class="sd">        file : str</span>
<span class="sd">            Path to the file containing the bearing parameters.</span>
<span class="sd">        sheet_name : int or str, optional</span>
<span class="sd">            Position of the sheet in the file (starting from 0) or its name. If none is</span>
<span class="sd">            passed, it is assumed to be the first sheet in the file.</span>
<span class="sd">        tag : str, optional</span>
<span class="sd">            A tag to name the element.</span>
<span class="sd">            Default is None.</span>
<span class="sd">        n_link : int, optional</span>
<span class="sd">            Node to which the bearing will connect. If None the bearing is connected to</span>
<span class="sd">            ground.</span>
<span class="sd">            Default is None.</span>
<span class="sd">        scale_factor : float, optional</span>
<span class="sd">            The scale factor is used to scale the bearing drawing.</span>
<span class="sd">            Default is 1.</span>
<span class="sd">        color : str, optional</span>
<span class="sd">            A color to be used when the element is represented.</span>
<span class="sd">            Default is &#39;#355d7a&#39; (Cardinal).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bearing : rs.BearingElement</span>
<span class="sd">            A bearing object.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; import os</span>
<span class="sd">        &gt;&gt;&gt; file_path = os.path.dirname(os.path.realpath(__file__)) + &#39;/tests/data/bearing_seal_si.xls&#39;</span>
<span class="sd">        &gt;&gt;&gt; BearingElement.from_table(0, file_path, n_link=1) # doctest: +ELLIPSIS</span>
<span class="sd">        BearingElement(n=0, n_link=1,</span>
<span class="sd">         kxx=array([...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="n">read_table_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;bearing&quot;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;n&quot;</span><span class="p">],</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;kxx&quot;</span><span class="p">],</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;cxx&quot;</span><span class="p">],</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;kyy&quot;</span><span class="p">],</span>
            <span class="n">kxy</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;kxy&quot;</span><span class="p">],</span>
            <span class="n">kyx</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;kyx&quot;</span><span class="p">],</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;cyy&quot;</span><span class="p">],</span>
            <span class="n">cxy</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;cxy&quot;</span><span class="p">],</span>
            <span class="n">cyx</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;cyx&quot;</span><span class="p">],</span>
            <span class="n">frequency</span><span class="o">=</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">],</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="BearingFluidFlow"><a class="viewcode-back" href="../../generated/elements/ross.BearingFluidFlow.html#ross.BearingFluidFlow">[docs]</a><span class="k">class</span> <span class="nc">BearingFluidFlow</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Instantiate a bearing using inputs from its fluid flow.</span>

<span class="sd">    This method always creates elements with frequency-dependent coefficients.</span>
<span class="sd">    It calculates a set of coefficients for each frequency value appendend to</span>
<span class="sd">    &quot;omega&quot;.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n : int</span>
<span class="sd">        The node in which the bearing will be located in the rotor.</span>

<span class="sd">    Grid related</span>
<span class="sd">    ^^^^^^^^^^^^</span>
<span class="sd">    Describes the discretization of the problem</span>
<span class="sd">    nz: int</span>
<span class="sd">        Number of points along the Z direction (direction of flow).</span>
<span class="sd">    ntheta: int</span>
<span class="sd">        Number of points along the direction theta. NOTE: ntheta must be odd.</span>
<span class="sd">    nradius: int</span>
<span class="sd">        Number of points along the direction r.</span>
<span class="sd">    length: float</span>
<span class="sd">        Length in the Z direction (m).</span>

<span class="sd">    Operation conditions</span>
<span class="sd">    ^^^^^^^^^^^^^^^^^^^^</span>
<span class="sd">    Describes the operation conditions.</span>
<span class="sd">    omega: list</span>
<span class="sd">        List of frequencies (rad/s) used to calculate the coefficients.</span>
<span class="sd">        If the length is greater than 1, an array of coefficients is returned.</span>
<span class="sd">    p_in: float</span>
<span class="sd">        Input Pressure (Pa).</span>
<span class="sd">    p_out: float</span>
<span class="sd">        Output Pressure (Pa).</span>
<span class="sd">    load: float</span>
<span class="sd">        Load applied to the rotor (N).</span>

<span class="sd">    Geometric data of the problem</span>
<span class="sd">    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="sd">    Describes the geometric data of the problem.</span>
<span class="sd">    radius_rotor: float</span>
<span class="sd">        Rotor radius (m).</span>
<span class="sd">    radius_stator: float</span>
<span class="sd">        Stator Radius (m).</span>
<span class="sd">    eccentricity: float</span>
<span class="sd">        Eccentricity (m) is the euclidean distance between rotor and stator centers.</span>
<span class="sd">        The center of the stator is in position (0,0).</span>

<span class="sd">    Fluid characteristics</span>
<span class="sd">    ^^^^^^^^^^^^^^^^^^^^^</span>
<span class="sd">    Describes the fluid characteristics.</span>
<span class="sd">    visc: float</span>
<span class="sd">        Viscosity (Pa.s).</span>
<span class="sd">    rho: float</span>
<span class="sd">        Fluid density(Kg/m^3).</span>

<span class="sd">    Others</span>
<span class="sd">    ^^^^^^</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bearing: rs.BearingElement</span>
<span class="sd">        A bearing object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; nz = 30</span>
<span class="sd">    &gt;&gt;&gt; ntheta = 20</span>
<span class="sd">    &gt;&gt;&gt; length = 0.03</span>
<span class="sd">    &gt;&gt;&gt; omega = [157.1]</span>
<span class="sd">    &gt;&gt;&gt; p_in = 0.</span>
<span class="sd">    &gt;&gt;&gt; p_out = 0.</span>
<span class="sd">    &gt;&gt;&gt; radius_rotor = 0.0499</span>
<span class="sd">    &gt;&gt;&gt; radius_stator = 0.05</span>
<span class="sd">    &gt;&gt;&gt; load = 525</span>
<span class="sd">    &gt;&gt;&gt; visc = 0.1</span>
<span class="sd">    &gt;&gt;&gt; rho = 860.</span>
<span class="sd">    &gt;&gt;&gt; BearingFluidFlow(0, nz, ntheta, length, omega, p_in,</span>
<span class="sd">    ...                  p_out, radius_rotor, radius_stator,</span>
<span class="sd">    ...                  visc, rho, load=load) # doctest: +ELLIPSIS</span>
<span class="sd">    BearingFluidFlow(n=0, n_link=None,</span>
<span class="sd">     kxx=array([145...</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BearingFluidFlow.__init__"><a class="viewcode-back" href="../../generated/elements/ross.BearingFluidFlow.html#ross.BearingFluidFlow.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">nz</span><span class="p">,</span>
        <span class="n">ntheta</span><span class="p">,</span>
        <span class="n">length</span><span class="p">,</span>
        <span class="n">omega</span><span class="p">,</span>
        <span class="n">p_in</span><span class="p">,</span>
        <span class="n">p_out</span><span class="p">,</span>
        <span class="n">radius_rotor</span><span class="p">,</span>
        <span class="n">radius_stator</span><span class="p">,</span>
        <span class="n">visc</span><span class="p">,</span>
        <span class="n">rho</span><span class="p">,</span>
        <span class="n">eccentricity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">load</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#355d7a&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">K</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">omega</span><span class="p">)))</span>
        <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">omega</span><span class="p">)))</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">omega</span><span class="p">):</span>
            <span class="n">fluid_flow</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">FluidFlow</span><span class="p">(</span>
                <span class="n">nz</span><span class="p">,</span>
                <span class="n">ntheta</span><span class="p">,</span>
                <span class="n">length</span><span class="p">,</span>
                <span class="n">w</span><span class="p">,</span>
                <span class="n">p_in</span><span class="p">,</span>
                <span class="n">p_out</span><span class="p">,</span>
                <span class="n">radius_rotor</span><span class="p">,</span>
                <span class="n">radius_stator</span><span class="p">,</span>
                <span class="n">visc</span><span class="p">,</span>
                <span class="n">rho</span><span class="p">,</span>
                <span class="n">eccentricity</span><span class="o">=</span><span class="n">eccentricity</span><span class="p">,</span>
                <span class="n">load</span><span class="o">=</span><span class="n">load</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">K</span><span class="p">[:,</span> <span class="n">i</span><span class="p">],</span> <span class="n">C</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_stiffness_and_damping_coefficients</span><span class="p">(</span><span class="n">fluid_flow</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">K</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="n">kxy</span><span class="o">=</span><span class="n">K</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">kyx</span><span class="o">=</span><span class="n">K</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">K</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="n">cxy</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">cyx</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">C</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
            <span class="n">frequency</span><span class="o">=</span><span class="n">omega</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="SealElement"><a class="viewcode-back" href="../../generated/elements/ross.SealElement.html#ross.SealElement">[docs]</a><span class="k">class</span> <span class="nc">SealElement</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A seal element.</span>

<span class="sd">    This class will create a seal element.</span>
<span class="sd">    Parameters can be a constant value or speed dependent.</span>
<span class="sd">    For speed dependent parameters, each argument should be passed</span>
<span class="sd">    as an array and the correspondent speed values should also be</span>
<span class="sd">    passed as an array.</span>
<span class="sd">    Values for each parameter will be interpolated for the speed.</span>

<span class="sd">    SealElement objects are handled differently in the Rotor class, even though it</span>
<span class="sd">    inherits from BearingElement class. Seal elements are not considered in static</span>
<span class="sd">    analysis, i.e., it does not add reaction forces (only bearings support the rotor).</span>
<span class="sd">    In stability level 1 analysis, seal elements are removed temporarily from the model,</span>
<span class="sd">    so that the cross coupled coefficients are calculated and replace the seals from</span>
<span class="sd">    the rotor model.</span>
<span class="sd">    SealElement data is stored in an individual data frame, separate from other</span>
<span class="sd">    bearing elements.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    SealElement class is strongly recommended to represent seals.</span>
<span class="sd">    Avoid using BearingElement class for this purpose.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n: int</span>
<span class="sd">        Node which the bearing will be located in</span>
<span class="sd">    kxx : float, array, pint.Quantity</span>
<span class="sd">        Direct stiffness in the x direction (N/m).</span>
<span class="sd">    cxx : float, array, pint.Quantity</span>
<span class="sd">        Direct damping in the x direction (N*s/m).</span>
<span class="sd">    kyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct stiffness in the y direction (N/m).</span>
<span class="sd">        (defaults to kxx)</span>
<span class="sd">    cyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct damping in the y direction (N*s/m).</span>
<span class="sd">        (defaults to cxx)</span>
<span class="sd">    kxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled stiffness in the x direction (N/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    cxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled damping in the x direction (N*s/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    kyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled stiffness in the y direction (N/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    cyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross coupled damping in the y direction (N*s/m).</span>
<span class="sd">        (defaults to 0)</span>
<span class="sd">    frequency : array, pint.Quantity, optional</span>
<span class="sd">        Array with the frequencies (rad/s).</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>
<span class="sd">    color : str, optional</span>
<span class="sd">        A color to be used when the element is represented.</span>
<span class="sd">        Default is &quot;#77ACA2&quot;.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # A seal element located in the first rotor node, with these</span>
<span class="sd">    &gt;&gt;&gt; # following stiffness and damping coefficients and speed range from</span>
<span class="sd">    &gt;&gt;&gt; # 0 to 200 rad/s</span>
<span class="sd">    &gt;&gt;&gt; import ross as rs</span>
<span class="sd">    &gt;&gt;&gt; kxx = 1e6</span>
<span class="sd">    &gt;&gt;&gt; kyy = 0.8e6</span>
<span class="sd">    &gt;&gt;&gt; cxx = 2e2</span>
<span class="sd">    &gt;&gt;&gt; cyy = 1.5e2</span>
<span class="sd">    &gt;&gt;&gt; frequency = np.linspace(0, 200, 11)</span>
<span class="sd">    &gt;&gt;&gt; seal = rs.SealElement(n=0, kxx=kxx, kyy=kyy, cxx=cxx, cyy=cyy, frequency=frequency)</span>
<span class="sd">    &gt;&gt;&gt; seal.K(frequency) # doctest: +ELLIPSIS</span>
<span class="sd">    array([[[1000000., 1000000., ...</span>
<span class="sd">    &gt;&gt;&gt; seal.C(frequency) # doctest: +ELLIPSIS</span>
<span class="sd">    array([[[200., 200., ...</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="SealElement.__init__"><a class="viewcode-back" href="../../generated/elements/ross.SealElement.html#ross.SealElement.__init__">[docs]</a>    <span class="nd">@check_units</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">kxx</span><span class="p">,</span>
        <span class="n">cxx</span><span class="p">,</span>
        <span class="n">kyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">kxy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">kyx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">cyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cxy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">cyx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">seal_leakage</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#77ACA2&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">kxx</span><span class="p">,</span>
            <span class="n">kxy</span><span class="o">=</span><span class="n">kxy</span><span class="p">,</span>
            <span class="n">kyx</span><span class="o">=</span><span class="n">kyx</span><span class="p">,</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">kyy</span><span class="p">,</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">cxx</span><span class="p">,</span>
            <span class="n">cxy</span><span class="o">=</span><span class="n">cxy</span><span class="p">,</span>
            <span class="n">cyx</span><span class="o">=</span><span class="n">cyx</span><span class="p">,</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">cyy</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">seal_leakage</span> <span class="o">=</span> <span class="n">seal_leakage</span></div></div>


<div class="viewcode-block" id="BallBearingElement"><a class="viewcode-back" href="../../generated/elements/ross.BallBearingElement.html#ross.BallBearingElement">[docs]</a><span class="k">class</span> <span class="nc">BallBearingElement</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bearing element for ball bearings.</span>

<span class="sd">    This class will create a bearing element based on some geometric and</span>
<span class="sd">    constructive parameters of ball bearings. The main difference is that</span>
<span class="sd">    cross-coupling stiffness and damping are not modeled in this case.</span>

<span class="sd">    The theory used to calculate the stiffness coeficients is based on</span>
<span class="sd">    :cite:`friswell2010dynamics` (pages 182-185). Damping is low in rolling-element</span>
<span class="sd">    bearings and the direct damping coefficient is typically in the range of</span>
<span class="sd">    (0.25 ~ 2.5) x 10e-5 x Kxx (or Kyy).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n : int</span>
<span class="sd">        Node which the bearing will be located in.</span>
<span class="sd">    n_balls : float</span>
<span class="sd">        Number of steel spheres in the bearing.</span>
<span class="sd">    d_balls : float</span>
<span class="sd">        Diameter of the steel sphere.</span>
<span class="sd">    fs : float,optional</span>
<span class="sd">        Static bearing loading force.</span>
<span class="sd">    alpha : float, optional</span>
<span class="sd">        Contact angle between the steel sphere and the inner / outer raceway.</span>
<span class="sd">    cxx : float, optional</span>
<span class="sd">        Direct stiffness in the x direction.</span>
<span class="sd">        Default is 1.25*10e-5 * kxx.</span>
<span class="sd">    cyy : float, optional</span>
<span class="sd">        Direct damping in the y direction.</span>
<span class="sd">        Default is 1.25*10e-5 * kyy.</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. bibliography:: ../../../docs/refs.bib</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; n = 0</span>
<span class="sd">    &gt;&gt;&gt; n_balls= 8</span>
<span class="sd">    &gt;&gt;&gt; d_balls = 0.03</span>
<span class="sd">    &gt;&gt;&gt; fs = 500.0</span>
<span class="sd">    &gt;&gt;&gt; alpha = np.pi / 6</span>
<span class="sd">    &gt;&gt;&gt; tag = &quot;ballbearing&quot;</span>
<span class="sd">    &gt;&gt;&gt; bearing = BallBearingElement(n=n, n_balls=n_balls, d_balls=d_balls,</span>
<span class="sd">    ...                              fs=fs, alpha=alpha, tag=tag)</span>
<span class="sd">    &gt;&gt;&gt; bearing.K(0)</span>
<span class="sd">    array([[4.64168838e+07, 0.00000000e+00],</span>
<span class="sd">           [0.00000000e+00, 1.00906269e+08]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BallBearingElement.__init__"><a class="viewcode-back" href="../../generated/elements/ross.BallBearingElement.html#ross.BallBearingElement.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">n_balls</span><span class="p">,</span>
        <span class="n">d_balls</span><span class="p">,</span>
        <span class="n">fs</span><span class="p">,</span>
        <span class="n">alpha</span><span class="p">,</span>
        <span class="n">cxx</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">Kb</span> <span class="o">=</span> <span class="mf">13.0e6</span>
        <span class="n">kyy</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">Kb</span>
            <span class="o">*</span> <span class="n">n_balls</span> <span class="o">**</span> <span class="p">(</span><span class="mf">2.0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">d_balls</span> <span class="o">**</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
            <span class="o">*</span> <span class="n">fs</span> <span class="o">**</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">))</span> <span class="o">**</span> <span class="p">(</span><span class="mf">5.0</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">nb</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.46</span><span class="p">,</span> <span class="mf">0.64</span><span class="p">,</span> <span class="mf">0.73</span><span class="p">]</span>
        <span class="n">dict_ratio</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span> <span class="n">ratio</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">n_balls</span> <span class="ow">in</span> <span class="n">dict_ratio</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">dict_ratio</span><span class="p">[</span><span class="n">n_balls</span><span class="p">]</span> <span class="o">*</span> <span class="n">kyy</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="s2">&quot;quadratic&quot;</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="s2">&quot;extrapolate&quot;</span><span class="p">)</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">n_balls</span><span class="p">)</span> <span class="o">*</span> <span class="n">kyy</span>

        <span class="k">if</span> <span class="n">cxx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cxx</span> <span class="o">=</span> <span class="mf">1.25e-5</span> <span class="o">*</span> <span class="n">kxx</span>
        <span class="k">if</span> <span class="n">cyy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cyy</span> <span class="o">=</span> <span class="mf">1.25e-5</span> <span class="o">*</span> <span class="n">kyy</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">kxx</span><span class="p">,</span>
            <span class="n">kxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">kyy</span><span class="p">,</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">cxx</span><span class="p">,</span>
            <span class="n">cxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">cyy</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#77ACA2&quot;</span></div></div>


<div class="viewcode-block" id="RollerBearingElement"><a class="viewcode-back" href="../../generated/elements/ross.RollerBearingElement.html#ross.RollerBearingElement">[docs]</a><span class="k">class</span> <span class="nc">RollerBearingElement</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A bearing element for roller bearings.</span>

<span class="sd">    This class will create a bearing element based on some geometric and</span>
<span class="sd">    constructive parameters of roller bearings. The main difference is that</span>
<span class="sd">    cross-coupling stiffness and damping are not modeled in this case.</span>

<span class="sd">    The theory used to calculate the stiffness coeficients is based on</span>
<span class="sd">    :cite:`friswell2010dynamics` (pages 182-185). Damping is low in rolling-element</span>
<span class="sd">    bearings and the direct damping coefficient is typically in the range of</span>
<span class="sd">    (0.25 ~ 2.5) x 10e-5 x Kxx (or Kyy).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n : int</span>
<span class="sd">        Node which the bearing will be located in.</span>
<span class="sd">    n_rollers : float</span>
<span class="sd">        Number of steel spheres in the bearing.</span>
<span class="sd">    l_rollers : float</span>
<span class="sd">        Length of the steel rollers.</span>
<span class="sd">    fs : float, optional</span>
<span class="sd">        Static bearing loading force.</span>
<span class="sd">    alpha : float, optional</span>
<span class="sd">        Contact angle between the steel sphere and the inner / outer raceway.</span>
<span class="sd">    cxx : float, optional</span>
<span class="sd">        Direct stiffness in the x direction.</span>
<span class="sd">        Default is 1.25*10e-5 * kxx.</span>
<span class="sd">    cyy : float, optional</span>
<span class="sd">        Direct damping in the y direction.</span>
<span class="sd">        Default is 1.25*10e-5 * kyy.</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    .. bibliography:: ../../../docs/refs.bib</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; n = 0</span>
<span class="sd">    &gt;&gt;&gt; n_rollers = 8</span>
<span class="sd">    &gt;&gt;&gt; l_rollers = 0.03</span>
<span class="sd">    &gt;&gt;&gt; fs = 500.0</span>
<span class="sd">    &gt;&gt;&gt; alpha = np.pi / 6</span>
<span class="sd">    &gt;&gt;&gt; tag = &quot;rollerbearing&quot;</span>
<span class="sd">    &gt;&gt;&gt; bearing = RollerBearingElement(n=n, n_rollers=n_rollers, l_rollers=l_rollers,</span>
<span class="sd">    ...                            fs=fs, alpha=alpha, tag=tag)</span>
<span class="sd">    &gt;&gt;&gt; bearing.K(0)</span>
<span class="sd">    array([[2.72821927e+08, 0.00000000e+00],</span>
<span class="sd">           [0.00000000e+00, 5.56779444e+08]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RollerBearingElement.__init__"><a class="viewcode-back" href="../../generated/elements/ross.RollerBearingElement.html#ross.RollerBearingElement.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">n_rollers</span><span class="p">,</span>
        <span class="n">l_rollers</span><span class="p">,</span>
        <span class="n">fs</span><span class="p">,</span>
        <span class="n">alpha</span><span class="p">,</span>
        <span class="n">cxx</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">):</span>

        <span class="n">Kb</span> <span class="o">=</span> <span class="mf">1.0e9</span>
        <span class="n">kyy</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">Kb</span>
            <span class="o">*</span> <span class="n">n_rollers</span> <span class="o">**</span> <span class="mf">0.9</span>
            <span class="o">*</span> <span class="n">l_rollers</span> <span class="o">**</span> <span class="mf">0.8</span>
            <span class="o">*</span> <span class="n">fs</span> <span class="o">**</span> <span class="mf">0.1</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">))</span> <span class="o">**</span> <span class="mf">1.9</span>
        <span class="p">)</span>

        <span class="n">nr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
        <span class="n">ratio</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.49</span><span class="p">,</span> <span class="mf">0.66</span><span class="p">,</span> <span class="mf">0.74</span><span class="p">]</span>
        <span class="n">dict_ratio</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="n">ratio</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">n_rollers</span> <span class="ow">in</span> <span class="n">dict_ratio</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">dict_ratio</span><span class="p">[</span><span class="n">n_rollers</span><span class="p">]</span> <span class="o">*</span> <span class="n">kyy</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="s2">&quot;quadratic&quot;</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="s2">&quot;extrapolate&quot;</span><span class="p">)</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">n_rollers</span><span class="p">)</span> <span class="o">*</span> <span class="n">kyy</span>

        <span class="k">if</span> <span class="n">cxx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cxx</span> <span class="o">=</span> <span class="mf">1.25e-5</span> <span class="o">*</span> <span class="n">kxx</span>
        <span class="k">if</span> <span class="n">cyy</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cyy</span> <span class="o">=</span> <span class="mf">1.25e-5</span> <span class="o">*</span> <span class="n">kyy</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">kxx</span><span class="p">,</span>
            <span class="n">kxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">kyy</span><span class="p">,</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">cxx</span><span class="p">,</span>
            <span class="n">cxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">cyy</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#77ACA2&quot;</span></div></div>


<div class="viewcode-block" id="MagneticBearingElement"><a class="viewcode-back" href="../../generated/elements/ross.MagneticBearingElement.html#ross.MagneticBearingElement">[docs]</a><span class="k">class</span> <span class="nc">MagneticBearingElement</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Magnetic bearing.</span>

<span class="sd">    This class creates a magnetic bearing element.</span>
<span class="sd">    Converts electromagnetic parameters and PID gains to stiffness and damping</span>
<span class="sd">    coefficients.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n : int</span>
<span class="sd">        The node in which the magnetic bearing will be located in the rotor.</span>
<span class="sd">    g0 : float</span>
<span class="sd">        Air gap in m^2.</span>
<span class="sd">    i0 : float</span>
<span class="sd">        Bias current in Ampere</span>
<span class="sd">    ag : float</span>
<span class="sd">        Pole area in m^2.</span>
<span class="sd">    nw : float or int</span>
<span class="sd">        Number of windings</span>
<span class="sd">    alpha : float or int</span>
<span class="sd">        Pole angle in radians.</span>
<span class="sd">    kp_pid : float or int</span>
<span class="sd">        Proportional gain of the PID controller.</span>
<span class="sd">    kd_pid : float or int</span>
<span class="sd">        Derivative gain of the PID controller.</span>
<span class="sd">    k_amp : float or int</span>
<span class="sd">        Gain of the amplifier model.</span>
<span class="sd">    k_sense : float or int</span>
<span class="sd">        Gain of the sensor model.</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None.</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>

<span class="sd">    ----------</span>
<span class="sd">    See the following reference for the electromagnetic parameters g0, i0, ag, nw, alpha:</span>
<span class="sd">    Book: Magnetic Bearings. Theory, Design, and Application to Rotating Machinery</span>
<span class="sd">    Authors: Gerhard Schweitzer and Eric H. Maslen</span>
<span class="sd">    Page: 69-80</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; n = 0</span>
<span class="sd">    &gt;&gt;&gt; g0 = 1e-3</span>
<span class="sd">    &gt;&gt;&gt; i0 = 1.0</span>
<span class="sd">    &gt;&gt;&gt; ag = 1e-4</span>
<span class="sd">    &gt;&gt;&gt; nw = 200</span>
<span class="sd">    &gt;&gt;&gt; alpha = 0.392</span>
<span class="sd">    &gt;&gt;&gt; kp_pid = 1.0</span>
<span class="sd">    &gt;&gt;&gt; kd_pid = 1.0</span>
<span class="sd">    &gt;&gt;&gt; k_amp = 1.0</span>
<span class="sd">    &gt;&gt;&gt; k_sense = 1.0</span>
<span class="sd">    &gt;&gt;&gt; tag = &quot;magneticbearing&quot;</span>
<span class="sd">    &gt;&gt;&gt; mbearing = MagneticBearingElement(n=n, g0=g0, i0=i0, ag=ag, nw=nw,alpha=alpha,</span>
<span class="sd">    ...                                   kp_pid=kp_pid, kd_pid=kd_pid, k_amp=k_amp,</span>
<span class="sd">    ...                                   k_sense=k_sense)</span>
<span class="sd">    &gt;&gt;&gt; mbearing.kxx</span>
<span class="sd">    [-4640.623377181318]</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MagneticBearingElement.__init__"><a class="viewcode-back" href="../../generated/elements/ross.MagneticBearingElement.html#ross.MagneticBearingElement.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">g0</span><span class="p">,</span>
        <span class="n">i0</span><span class="p">,</span>
        <span class="n">ag</span><span class="p">,</span>
        <span class="n">nw</span><span class="p">,</span>
        <span class="n">alpha</span><span class="p">,</span>
        <span class="n">kp_pid</span><span class="p">,</span>
        <span class="n">kd_pid</span><span class="p">,</span>
        <span class="n">k_amp</span><span class="p">,</span>
        <span class="n">k_sense</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">pL</span> <span class="o">=</span> <span class="p">[</span><span class="n">g0</span><span class="p">,</span> <span class="n">i0</span><span class="p">,</span> <span class="n">ag</span><span class="p">,</span> <span class="n">nw</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">kp_pid</span><span class="p">,</span> <span class="n">kd_pid</span><span class="p">,</span> <span class="n">k_amp</span><span class="p">,</span> <span class="n">k_sense</span><span class="p">]</span>
        <span class="n">pA</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Check if it is a number or a list with 2 items</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">pL</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">int</span><span class="p">:</span>
                <span class="n">pA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pL</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">pL</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pL</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s2">&quot;Parameters must be scalar or a list with 2 items&quot;</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pA</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pL</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Parameters must be scalar or a list with 2 items&quot;</span><span class="p">)</span>

        <span class="c1"># From: &quot;Magnetic Bearings. Theory, Design, and Application to Rotating Machinery&quot;</span>
        <span class="c1"># Authors: Gerhard Schweitzer and Eric H. Maslen</span>
        <span class="c1"># Page: 343</span>
        <span class="n">ks</span> <span class="o">=</span> <span class="p">(</span>
            <span class="o">-</span><span class="mf">4.0</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">**</span> <span class="mf">2.0</span>
            <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">pA</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="o">*</span> <span class="mf">4.0</span>
            <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
            <span class="o">*</span> <span class="mf">1e-7</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">**</span> <span class="mf">2.0</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="o">/</span> <span class="p">(</span><span class="mf">4.0</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">3</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">ki</span> <span class="o">=</span> <span class="p">(</span>
            <span class="mf">4.0</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">pA</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="o">*</span> <span class="mf">4.0</span>
            <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
            <span class="o">*</span> <span class="mf">1e-7</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">**</span> <span class="mf">2.0</span>
            <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="o">/</span> <span class="p">(</span><span class="mf">4.0</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">k</span> <span class="o">=</span> <span class="n">ki</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">pA</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="n">ks</span><span class="p">,</span> <span class="n">ki</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">8</span><span class="p">]))</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">ki</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="n">pA</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span>
        <span class="c1"># k = ki * k_amp*k_sense*(kp_pid+ np.divide(ks, ki*k_amp*k_sense))</span>
        <span class="c1"># c = ki*k_amp*kd_pid*k_sense</span>

        <span class="c1"># Get the parameters from k and c</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
            <span class="c1"># If k is scalar, symmetry is assumed</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">k</span>
            <span class="n">kyy</span> <span class="o">=</span> <span class="n">k</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">kxx</span> <span class="o">=</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">kyy</span> <span class="o">=</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
            <span class="c1"># If c is scalar, symmetry is assumed</span>
            <span class="n">cxx</span> <span class="o">=</span> <span class="n">c</span>
            <span class="n">cyy</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cxx</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">cyy</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">kxx</span><span class="p">,</span>
            <span class="n">kxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">kyy</span><span class="p">,</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">cxx</span><span class="p">,</span>
            <span class="n">cxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">cyy</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="BearingElement6DoF"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF">[docs]</a><span class="k">class</span> <span class="nc">BearingElement6DoF</span><span class="p">(</span><span class="n">BearingElement</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A generalistic 6 DoF bearing element.</span>

<span class="sd">    This class will create a bearing</span>
<span class="sd">    element based on the user supplied stiffness and damping coefficients. These</span>
<span class="sd">    are determined alternatively, via purposefully built codes.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    kxx : float, array, pint.Quantity</span>
<span class="sd">        Direct stiffness in the x direction (N/m).</span>
<span class="sd">    cxx : float, array, pint.Quantity</span>
<span class="sd">        Direct damping in the x direction (N*s/m).</span>
<span class="sd">    kyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct stiffness in the y direction (N/m).</span>
<span class="sd">        Defaults to kxx</span>
<span class="sd">    cyy : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct damping in the y direction (N*s/m).</span>
<span class="sd">        Default is to cxx</span>
<span class="sd">    kxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross stiffness between xy directions (N/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    kyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross stiffness between yx directions (N/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    kzz : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct stiffness in the z direction (N/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    cxy : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross damping between xy directions (N*s/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    cyx : float, array, pint.Quantity, optional</span>
<span class="sd">        Cross damping between yx directions (N*s/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    czz : float, array, pint.Quantity, optional</span>
<span class="sd">        Direct damping in the z direction (N*s/m).</span>
<span class="sd">        Default is 0</span>
<span class="sd">    frequency : array, pint.Quantity, optional</span>
<span class="sd">        Array with the frequencies (rad/s).</span>
<span class="sd">    tag : str, optional</span>
<span class="sd">        A tag to name the element</span>
<span class="sd">        Default is None</span>
<span class="sd">    n_link : int, optional</span>
<span class="sd">        Node to which the bearing will connect. If None the bearing is</span>
<span class="sd">        connected to ground.</span>
<span class="sd">        Default is None.</span>
<span class="sd">    scale_factor : float, optional</span>
<span class="sd">        The scale factor is used to scale the bearing drawing.</span>
<span class="sd">        Default is 1.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; n = 0</span>
<span class="sd">    &gt;&gt;&gt; kxx = 1.0e7</span>
<span class="sd">    &gt;&gt;&gt; kyy = 1.5e7</span>
<span class="sd">    &gt;&gt;&gt; kzz = 5.0e5</span>
<span class="sd">    &gt;&gt;&gt; bearing = BearingElement6DoF(n=n, kxx=kxx, kyy=kyy, kzz=kzz,</span>
<span class="sd">    ...                              cxx=0, cyy=0)</span>
<span class="sd">    &gt;&gt;&gt; bearing.K(0)</span>
<span class="sd">    array([[10000000.,        0.,        0.],</span>
<span class="sd">           [       0., 15000000.,        0.],</span>
<span class="sd">           [       0.,        0.,   500000.]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="BearingElement6DoF.__init__"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF.__init__">[docs]</a>    <span class="nd">@check_units</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">n</span><span class="p">,</span>
        <span class="n">kxx</span><span class="p">,</span>
        <span class="n">cxx</span><span class="p">,</span>
        <span class="n">kyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">cyy</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">kxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">kyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">kzz</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">cxy</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">cyx</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">czz</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n_link</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">scale_factor</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#355d7a&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
            <span class="n">kxx</span><span class="o">=</span><span class="n">kxx</span><span class="p">,</span>
            <span class="n">cxx</span><span class="o">=</span><span class="n">cxx</span><span class="p">,</span>
            <span class="n">kyy</span><span class="o">=</span><span class="n">kyy</span><span class="p">,</span>
            <span class="n">kxy</span><span class="o">=</span><span class="n">kxy</span><span class="p">,</span>
            <span class="n">kyx</span><span class="o">=</span><span class="n">kyx</span><span class="p">,</span>
            <span class="n">cyy</span><span class="o">=</span><span class="n">cyy</span><span class="p">,</span>
            <span class="n">cxy</span><span class="o">=</span><span class="n">cxy</span><span class="p">,</span>
            <span class="n">cyx</span><span class="o">=</span><span class="n">cyx</span><span class="p">,</span>
            <span class="n">frequency</span><span class="o">=</span><span class="n">frequency</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="n">tag</span><span class="p">,</span>
            <span class="n">n_link</span><span class="o">=</span><span class="n">n_link</span><span class="p">,</span>
            <span class="n">scale_factor</span><span class="o">=</span><span class="n">scale_factor</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">new_args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kzz&quot;</span><span class="p">,</span> <span class="s2">&quot;czz&quot;</span><span class="p">]</span>

        <span class="n">args_dict</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span>
        <span class="n">coefficients</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">kzz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;kzz&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">kxx</span> <span class="o">*</span> <span class="mf">0.6</span>
            <span class="p">)</span>  <span class="c1"># NSK manufacturer sugestion for deep groove ball bearings</span>
        <span class="k">if</span> <span class="n">czz</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args_dict</span><span class="p">[</span><span class="s2">&quot;czz&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cxx</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">new_args</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;k&quot;</span><span class="p">:</span>
                <span class="n">coefficients</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">_Stiffness_Coefficient</span><span class="p">(</span>
                    <span class="n">coefficient</span><span class="o">=</span><span class="n">args_dict</span><span class="p">[</span><span class="n">arg</span><span class="p">],</span> <span class="n">frequency</span><span class="o">=</span><span class="kc">None</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">coefficients</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">_Damping_Coefficient</span><span class="p">(</span><span class="n">args_dict</span><span class="p">[</span><span class="n">arg</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">coefficients_len</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">coefficient</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coefficients_len</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Arguments (coefficients and frequency)&quot;</span>
                    <span class="s2">&quot; must have the same dimension&quot;</span>
                <span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">coefficients</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return a string representation of a bearing element.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        A string representation of a bearing element object.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing # doctest: +ELLIPSIS</span>
<span class="sd">        BearingElement(n=0, n_link=None,</span>
<span class="sd">         kxx=[...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;(n=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="si">}</span><span class="s2">, n_link=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">n_link</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; kxx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="si">}</span><span class="s2">, kxy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; kyx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="si">}</span><span class="s2">, kyy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; kzz=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kzz</span><span class="si">}</span><span class="s2">, cxx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; cxy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="si">}</span><span class="s2">, cyx=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; cyy=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="si">}</span><span class="s2">, czz=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">czz</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; frequency=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="si">}</span><span class="s2">, tag=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="si">!r}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Equality method for comparasions.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        other : object</span>
<span class="sd">            The second object to be compared with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if the comparison is true; False otherwise.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing1 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing2 = bearing_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing1 == bearing2</span>
<span class="sd">        True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">compared_attributes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;kxx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kyy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kxy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kyx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cxx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cyy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cxy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cyx&quot;</span><span class="p">,</span>
            <span class="s2">&quot;kzz&quot;</span><span class="p">,</span>
            <span class="s2">&quot;czz&quot;</span><span class="p">,</span>
            <span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
            <span class="s2">&quot;n&quot;</span><span class="p">,</span>
            <span class="s2">&quot;n_link&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
                    <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">compared_attributes</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>

<div class="viewcode-block" id="BearingElement6DoF.save"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">toml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;n&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
            <span class="s2">&quot;kxx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cxx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kyy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kxy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kyx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;kzz&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">kzz</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cyy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cxy&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;cyx&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;czz&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">czz</span><span class="o">.</span><span class="n">coefficient</span><span class="p">],</span>
            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
            <span class="s2">&quot;n_link&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_link</span><span class="p">,</span>
            <span class="s2">&quot;scale_factor&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frequency</span>

        <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">args</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">toml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="BearingElement6DoF.dof_mapping"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF.dof_mapping">[docs]</a>    <span class="k">def</span> <span class="nf">dof_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Degrees of freedom mapping.</span>

<span class="sd">        Returns a dictionary with a mapping between degree of freedom and its index.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dof_mapping : dict</span>
<span class="sd">            A dictionary containing the degrees of freedom and their indexes.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        The numbering of the degrees of freedom for each node.</span>

<span class="sd">        Being the following their ordering for a node:</span>

<span class="sd">        x_0 - horizontal translation</span>
<span class="sd">        y_0 - vertical translation</span>
<span class="sd">        z_0 - axial translation</span>

<span class="sd">        &gt;&gt;&gt; bearing = bearing_6dof_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.dof_mapping()</span>
<span class="sd">        {&#39;x_0&#39;: 0, &#39;y_0&#39;: 1, &#39;z_0&#39;: 2}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x_0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_0</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z_0</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>

<div class="viewcode-block" id="BearingElement6DoF.K"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF.K">[docs]</a>    <span class="k">def</span> <span class="nf">K</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Stiffness matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the stiffness matrix for an instance of a bearing element.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency : float</span>
<span class="sd">            The excitation frequency (rad/s).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        K : np.ndarray</span>
<span class="sd">            A 3x3 matrix of floats containing the kxx, kxy, kyx, kyy and kzz values (N/m).</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_6dof_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.K(0)</span>
<span class="sd">        array([[1000000.,       0.,       0.],</span>
<span class="sd">               [      0.,  800000.,       0.],</span>
<span class="sd">               [      0.,       0.,  100000.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kxx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kyy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kxy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kxy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kyx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kyx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">kzz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kzz</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>

        <span class="n">K</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">kxx</span><span class="p">,</span> <span class="n">kxy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">kyx</span><span class="p">,</span> <span class="n">kyy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">kzz</span><span class="p">]])</span>

        <span class="k">return</span> <span class="n">K</span></div>

<div class="viewcode-block" id="BearingElement6DoF.C"><a class="viewcode-back" href="../../generated/elements/ross.BearingElement6DoF.html#ross.BearingElement6DoF.C">[docs]</a>    <span class="k">def</span> <span class="nf">C</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frequency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Damping matrix for an instance of a bearing element.</span>

<span class="sd">        This method returns the damping matrix for an instance of a bearing element.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frequency : float</span>
<span class="sd">            The excitation frequency (rad/s).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        C: np.ndarray</span>
<span class="sd">            A 3x3 matrix of floats containing the cxx, cxy, cyx, cyy, and czz values (N/m).</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; bearing = bearing_6dof_example()</span>
<span class="sd">        &gt;&gt;&gt; bearing.C(0)</span>
<span class="sd">        array([[200.,   0.,   0.],</span>
<span class="sd">               [  0., 150.,   0.],</span>
<span class="sd">               [  0.,   0.,  50.]])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cxx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cyy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cxy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cxy</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">cyx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cyx</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>
        <span class="n">czz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">czz</span><span class="o">.</span><span class="n">interpolated</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>

        <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">cxx</span><span class="p">,</span> <span class="n">cxy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">cyx</span><span class="p">,</span> <span class="n">cyy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">czz</span><span class="p">]])</span>

        <span class="k">return</span> <span class="n">C</span></div></div>


<span class="k">def</span> <span class="nf">bearing_example</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Create an example of bearing element.</span>

<span class="sd">    This function returns an instance of a simple seal. The purpose is to make</span>
<span class="sd">    available a simple model so that doctest can be written using it.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    An instance of a bearing object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; bearing = bearing_example()</span>
<span class="sd">    &gt;&gt;&gt; bearing.frequency[0]</span>
<span class="sd">    0.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">bearing</span> <span class="o">=</span> <span class="n">BearingElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="mf">1e6</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="mf">0.8e6</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">2e2</span><span class="p">,</span> <span class="n">cyy</span><span class="o">=</span><span class="mf">1.5e2</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="n">w</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">bearing</span>


<span class="k">def</span> <span class="nf">seal_example</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Create an example of seal element.</span>

<span class="sd">    This function returns an instance of a simple seal. The purpose is to make</span>
<span class="sd">    available a simple model so that doctest can be written using it.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    seal : ross.SealElement</span>
<span class="sd">        An instance of a bearing object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; seal = seal_example()</span>
<span class="sd">    &gt;&gt;&gt; seal.frequency[0]</span>
<span class="sd">    0.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">seal</span> <span class="o">=</span> <span class="n">SealElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="mf">1e6</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="mf">0.8e6</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">2e2</span><span class="p">,</span> <span class="n">cyy</span><span class="o">=</span><span class="mf">1.5e2</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="n">w</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">seal</span>


<span class="k">def</span> <span class="nf">bearing_6dof_example</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Create an example of bearing element.</span>

<span class="sd">    This function returns an instance of a simple bearing. The purpose is to make</span>
<span class="sd">    available a simple model so that doctest can be written using it.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bearing : ross.BearingElement6DoF</span>
<span class="sd">        An instance of a bearing object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; bearing = bearing_6dof_example()</span>
<span class="sd">    &gt;&gt;&gt; bearing.kxx</span>
<span class="sd">    [1000000.0]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bearing</span> <span class="o">=</span> <span class="n">BearingElement6DoF</span><span class="p">(</span>
        <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="mf">1e6</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="mf">0.8e6</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">2e2</span><span class="p">,</span> <span class="n">cyy</span><span class="o">=</span><span class="mf">1.5e2</span><span class="p">,</span> <span class="n">kzz</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span> <span class="n">czz</span><span class="o">=</span><span class="mf">0.5e2</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">bearing</span>
</pre></div>

    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Team ROSS.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1.<br/>
    </p>
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-157532410-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-157532410-1');
</script>

  </body>
</html>