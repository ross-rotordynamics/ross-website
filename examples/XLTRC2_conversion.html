<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XLTRC2 Conversion &#8212; ross 0.4.1 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/ross-logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/ross-logo.svg"></span>
          ROSS</a>
        <span class="navbar-text navbar-version pull-left"><b>0.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../tutorials.html">Tutorial</a></li>
                <li><a href="../examples.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-python">Install Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-ross">Install ROSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial_part_1.html">Tutorial - Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_part_2.html">Tutorial - Running Analyzes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial_part_3.html">Tutorial - Stochastic ROSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#ross-examples">ROSS Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#fluidflow-examples">FluidFlow Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#stochastic-ross-examples">Stochastic ROSS Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api.html#material">Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#elements">Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#rotor-and-results">Rotor and Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#results">Results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#feedback-and-contribution">Feedback and Contribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#version-control-system-git">Version-control system: Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#code-style-black">Code style: Black</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#how-to-contribute-to-ross-using-git">How to contribute to ROSS using git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#making-new-releases">Making new releases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release_notes.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release_notes.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release_notes.html#version-0-2-0-beta-release">Version 0.2.0 (beta release)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release_notes.html#version-0-1-0-alpha-release">Version 0.1.0 (alpha release)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">XLTRC2 Conversion</a><ul>
<li><a class="reference internal" href="#BearingElement">BearingElement</a><ul>
<li><a class="reference internal" href="#Instantiating-bearings-from-excel-archives">Instantiating bearings from excel archives</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Rotor">Rotor</a><ul>
<li><a class="reference internal" href="#Visualizing-the-Rotor">Visualizing the Rotor</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#Running-the-simulation">Running the simulation</a><ul>
<li><a class="reference internal" href="#Obtaining-results">Obtaining results</a><ul>
<li><a class="reference internal" href="#Static-analysis">Static analysis</a></li>
<li><a class="reference internal" href="#Campbell-Diagram">Campbell Diagram</a></li>
<li><a class="reference internal" href="#Frenquency-Response">Frenquency Response</a></li>
<li><a class="reference internal" href="#Unbalance-Response">Unbalance Response</a></li>
<li><a class="reference internal" href="#Time-Response">Time Response</a></li>
<li><a class="reference internal" href="#Calculate-Orbits">Calculate Orbits</a></li>
<li><a class="reference internal" href="#Mode-Shapes">Mode Shapes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/examples/XLTRC2_conversion.ipynb.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="XLTRC2-Conversion">
<h1>XLTRC2 Conversion<a class="headerlink" href="#XLTRC2-Conversion" title="Permalink to this headline">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">ross</span> <span class="k">as</span> <span class="nn">rs</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">xlwings</span> <span class="kn">import</span> <span class="n">Book</span>

<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ModuleNotFoundError</span>                       Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-1f5557ea9649&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-green-fg">import</span> ross <span class="ansi-green-fg">as</span> rs
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">from</span> bokeh<span class="ansi-blue-fg">.</span>io <span class="ansi-green-fg">import</span> output_notebook<span class="ansi-blue-fg">,</span> show
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-green-fg">import</span> numpy <span class="ansi-green-fg">as</span> np
<span class="ansi-green-intense-fg ansi-bold">      4</span> <span class="ansi-green-fg">import</span> matplotlib<span class="ansi-blue-fg">.</span>pyplot <span class="ansi-green-fg">as</span> plt
<span class="ansi-green-intense-fg ansi-bold">      5</span> <span class="ansi-green-fg">from</span> xlwings <span class="ansi-green-fg">import</span> Book

<span class="ansi-red-fg">ModuleNotFoundError</span>: No module named &#39;bokeh&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">XLTRC2_filename</span> <span class="o">=</span> <span class="s2">&quot;Modelo XLTRC2.xls&quot;</span> <span class="c1"># Insert the name of the file from which to load to model</span>

<span class="n">wb</span> <span class="o">=</span> <span class="n">Book</span><span class="p">(</span><span class="n">XLTRC2_filename</span><span class="p">)</span>

<span class="n">n_lines</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="mi">20</span><span class="o">+</span><span class="n">n_lines</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">n_lines</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="s1">&#39;A21:K&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">20</span><span class="o">+</span><span class="n">n_lines</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">model</span><span class="p">[:,</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="n">model</span><span class="p">[:,</span><span class="mi">10</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span>

<span class="n">disks</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;More&#39;</span><span class="p">][</span><span class="s1">&#39;A&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">disks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;More&#39;</span><span class="p">][</span><span class="s1">&#39;A&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">m</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;More&#39;</span><span class="p">][</span><span class="s1">&#39;B&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                  <span class="n">Ip</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;More&#39;</span><span class="p">][</span><span class="s1">&#39;C&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                  <span class="n">Id</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;More&#39;</span><span class="p">][</span><span class="s1">&#39;D&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">6</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

<span class="n">mat</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="s1">&#39;K&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">mat</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rs</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Mat&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">rho</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="s1">&#39;N&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                     <span class="n">E</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="s1">&#39;O&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                                     <span class="n">G_s</span><span class="o">=</span><span class="n">wb</span><span class="o">.</span><span class="n">sheets</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">][</span><span class="s1">&#39;P&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-ee8dfde4c1b4&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> XLTRC2_filename <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#34;Modelo XLTRC2.xls&#34;</span> <span class="ansi-red-fg"># Insert the name of the file from which to load to model</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>
<span class="ansi-green-fg">----&gt; 3</span><span class="ansi-red-fg"> </span>wb <span class="ansi-blue-fg">=</span> Book<span class="ansi-blue-fg">(</span>XLTRC2_filename<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> n_lines <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0</span>

<span class="ansi-red-fg">NameError</span>: name &#39;Book&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">shaft_elements</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">rs</span><span class="o">.</span><span class="n">ShaftElement</span><span class="p">(</span>
        <span class="n">n</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">L</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
        <span class="n">odl</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
        <span class="n">idl</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
        <span class="n">odr</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span>
        <span class="n">idr</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
        <span class="n">material</span><span class="o">=</span><span class="n">mat</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)],</span>
        <span class="n">shear_effects</span><span class="o">=</span><span class="n">model</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
        <span class="n">rotary_inertia</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">gyroscopic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_lines</span><span class="p">)</span>
<span class="p">]</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-1c99b7e77253&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">     12</span>         gyroscopic<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">     13</span>     )
<span class="ansi-green-fg">---&gt; 14</span><span class="ansi-red-fg">     </span><span class="ansi-green-fg">for</span> i <span class="ansi-green-fg">in</span> range<span class="ansi-blue-fg">(</span>n_lines<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     15</span> ]

<span class="ansi-red-fg">NameError</span>: name &#39;n_lines&#39; is not defined
</pre></div></div>
</div>
<div class="section" id="BearingElement">
<h2>BearingElement<a class="headerlink" href="#BearingElement" title="Permalink to this headline">¶</a></h2>
<p>This class can be used to represent bearings and support elements. The following code demonstrate how to properly instantiate it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">brg_file</span> <span class="o">=</span> <span class="s1">&#39;BRG_max_stiff_DE.xls&#39;</span> <span class="c1"># Insert filename from which to load bearing data</span>


<span class="n">bearing0</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="o">.</span><span class="n">from_table</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="c1"># Insert node for bearing0</span>
                                        <span class="n">file</span><span class="o">=</span><span class="n">brg_file</span><span class="p">,</span><span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;XLUseKCM&#39;</span><span class="p">)</span>

<span class="n">bearing1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="o">.</span><span class="n">from_table</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="c1"># Insert node for bearing1</span>
                                        <span class="n">file</span><span class="o">=</span><span class="n">brg_file</span><span class="p">,</span><span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;XLUseKCM&#39;</span><span class="p">)</span>

<span class="n">bearings</span> <span class="o">=</span> <span class="p">[</span><span class="n">bearing0</span><span class="p">,</span> <span class="n">bearing1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-0aa7fa2493c6&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> bearing0 = rs.BearingElement.from_table(n=9, # Insert node for bearing0
</span><span class="ansi-green-intense-fg ansi-bold">      5</span>                                         file=brg_file,sheet_name=&#39;XLUseKCM&#39;)
<span class="ansi-green-intense-fg ansi-bold">      6</span>

<span class="ansi-green-fg">~/work/ross/ross/ross/bearing_seal_element.py</span> in <span class="ansi-cyan-fg">from_table</span><span class="ansi-blue-fg">(cls, n, file, sheet_name, tag, n_link, scale_factor, color)</span>
<span class="ansi-green-intense-fg ansi-bold">    896</span>          kxx=array([...
<span class="ansi-green-intense-fg ansi-bold">    897</span>         &#34;&#34;&#34;
<span class="ansi-green-fg">--&gt; 898</span><span class="ansi-red-fg">         </span>parameters <span class="ansi-blue-fg">=</span> read_table_file<span class="ansi-blue-fg">(</span>file<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#34;bearing&#34;</span><span class="ansi-blue-fg">,</span> sheet_name<span class="ansi-blue-fg">,</span> n<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    899</span>         return cls(
<span class="ansi-green-intense-fg ansi-bold">    900</span>             n<span class="ansi-blue-fg">=</span>parameters<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;n&#34;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>

<span class="ansi-green-fg">~/work/ross/ross/ross/utils.py</span> in <span class="ansi-cyan-fg">read_table_file</span><span class="ansi-blue-fg">(file, element, sheet_name, n, sheet_type)</span>
<span class="ansi-green-intense-fg ansi-bold">     44</span>     {&#39;L&#39;: [0.03...
<span class="ansi-green-intense-fg ansi-bold">     45</span>     &#34;&#34;&#34;
<span class="ansi-green-fg">---&gt; 46</span><span class="ansi-red-fg">     </span>df <span class="ansi-blue-fg">=</span> pd<span class="ansi-blue-fg">.</span>read_excel<span class="ansi-blue-fg">(</span>file<span class="ansi-blue-fg">,</span> header<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> sheet_name<span class="ansi-blue-fg">=</span>sheet_name<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     47</span>
<span class="ansi-green-intense-fg ansi-bold">     48</span>     <span class="ansi-red-fg"># Assign specific values to variables</span>

<span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pandas/util/_decorators.py</span> in <span class="ansi-cyan-fg">wrapper</span><span class="ansi-blue-fg">(*args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    297</span>                 )
<span class="ansi-green-intense-fg ansi-bold">    298</span>                 warnings<span class="ansi-blue-fg">.</span>warn<span class="ansi-blue-fg">(</span>msg<span class="ansi-blue-fg">,</span> FutureWarning<span class="ansi-blue-fg">,</span> stacklevel<span class="ansi-blue-fg">=</span>stacklevel<span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">--&gt; 299</span><span class="ansi-red-fg">             </span><span class="ansi-green-fg">return</span> func<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">*</span>args<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwargs<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    300</span>
<span class="ansi-green-intense-fg ansi-bold">    301</span>         <span class="ansi-green-fg">return</span> wrapper

<span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pandas/io/excel/_base.py</span> in <span class="ansi-cyan-fg">read_excel</span><span class="ansi-blue-fg">(io, sheet_name, header, names, index_col, usecols, squeeze, dtype, engine, converters, true_values, false_values, skiprows, nrows, na_values, keep_default_na, na_filter, verbose, parse_dates, date_parser, thousands, comment, skipfooter, convert_float, mangle_dupe_cols, storage_options)</span>
<span class="ansi-green-intense-fg ansi-bold">    334</span>     <span class="ansi-green-fg">if</span> <span class="ansi-green-fg">not</span> isinstance<span class="ansi-blue-fg">(</span>io<span class="ansi-blue-fg">,</span> ExcelFile<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    335</span>         should_close <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">True</span>
<span class="ansi-green-fg">--&gt; 336</span><span class="ansi-red-fg">         </span>io <span class="ansi-blue-fg">=</span> ExcelFile<span class="ansi-blue-fg">(</span>io<span class="ansi-blue-fg">,</span> storage_options<span class="ansi-blue-fg">=</span>storage_options<span class="ansi-blue-fg">,</span> engine<span class="ansi-blue-fg">=</span>engine<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    337</span>     <span class="ansi-green-fg">elif</span> engine <span class="ansi-green-fg">and</span> engine <span class="ansi-blue-fg">!=</span> io<span class="ansi-blue-fg">.</span>engine<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    338</span>         raise ValueError(

<span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pandas/io/excel/_base.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, path_or_buffer, engine, storage_options)</span>
<span class="ansi-green-intense-fg ansi-bold">   1069</span>                 ext <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#34;xls&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">   1070</span>             <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 1071</span><span class="ansi-red-fg">                 ext = inspect_excel_format(
</span><span class="ansi-green-intense-fg ansi-bold">   1072</span>                     content<span class="ansi-blue-fg">=</span>path_or_buffer<span class="ansi-blue-fg">,</span> storage_options<span class="ansi-blue-fg">=</span>storage_options
<span class="ansi-green-intense-fg ansi-bold">   1073</span>                 )

<span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pandas/io/excel/_base.py</span> in <span class="ansi-cyan-fg">inspect_excel_format</span><span class="ansi-blue-fg">(path, content, storage_options)</span>
<span class="ansi-green-intense-fg ansi-bold">    947</span>     <span class="ansi-green-fg">assert</span> content_or_path <span class="ansi-green-fg">is</span> <span class="ansi-green-fg">not</span> <span class="ansi-green-fg">None</span>
<span class="ansi-green-intense-fg ansi-bold">    948</span>
<span class="ansi-green-fg">--&gt; 949</span><span class="ansi-red-fg">     with get_handle(
</span><span class="ansi-green-intense-fg ansi-bold">    950</span>         content_or_path<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#34;rb&#34;</span><span class="ansi-blue-fg">,</span> storage_options<span class="ansi-blue-fg">=</span>storage_options<span class="ansi-blue-fg">,</span> is_text<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span>
<span class="ansi-green-intense-fg ansi-bold">    951</span>     ) as handle:

<span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.9.1/x64/lib/python3.9/site-packages/pandas/io/common.py</span> in <span class="ansi-cyan-fg">get_handle</span><span class="ansi-blue-fg">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="ansi-green-intense-fg ansi-bold">    649</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    650</span>             <span class="ansi-red-fg"># Binary mode</span>
<span class="ansi-green-fg">--&gt; 651</span><span class="ansi-red-fg">             </span>handle <span class="ansi-blue-fg">=</span> open<span class="ansi-blue-fg">(</span>handle<span class="ansi-blue-fg">,</span> ioargs<span class="ansi-blue-fg">.</span>mode<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    652</span>         handles<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>handle<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    653</span>

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;BRG_max_stiff_DE.xls&#39;
</pre></div></div>
</div>
<div class="section" id="Instantiating-bearings-from-excel-archives">
<h3>Instantiating bearings from excel archives<a class="headerlink" href="#Instantiating-bearings-from-excel-archives" title="Permalink to this headline">¶</a></h3>
<p>There’s a class method to instantiate a bearing from excel files, as we can see in the following code.</p>
</div>
</div>
<div class="section" id="Rotor">
<h2>Rotor<a class="headerlink" href="#Rotor" title="Permalink to this headline">¶</a></h2>
<p>This class takes as argument lists with all elements program and assembles the mass, gyroscopic, damping and stiffness global matrices for the system. The object created has several methods that can be used to evaluate the dynamics of the model (they all start with <code class="docutils literal notranslate"><span class="pre">.run_</span></code>. To use this class, you only have to give all the already instantiated elements in a list format, as it follows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rotor1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">Rotor</span><span class="p">(</span>
    <span class="n">shaft_elements</span><span class="p">,</span>
    <span class="n">disks</span><span class="p">,</span>
    <span class="n">bearings</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-ee80707b7c6c&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> rotor1 = rs.Rotor(
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg">     </span>shaft_elements<span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span>     disks<span class="ansi-blue-fg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     bearings
<span class="ansi-green-intense-fg ansi-bold">      5</span> )

<span class="ansi-red-fg">NameError</span>: name &#39;shaft_elements&#39; is not defined
</pre></div></div>
</div>
<div class="section" id="Visualizing-the-Rotor">
<h3>Visualizing the Rotor<a class="headerlink" href="#Visualizing-the-Rotor" title="Permalink to this headline">¶</a></h3>
<p>It is interesting to plot the rotor to check if the geometry checks with what you wanted to model, you can plot it with the following code.</p>
<p>Note: For almost every plot functions, there are two options for plots, one with bokeh library and one with matplotlib. You can choose this with <code class="docutils literal notranslate"><span class="pre">plot_type='matplotlib</span></code> or <code class="docutils literal notranslate"><span class="pre">plot_type='bokeh'</span></code>. The default for most plot is the bokeh output.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">r</span><span class="o">=</span><span class="n">rotor1</span><span class="o">.</span><span class="n">plot_rotor</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;bokeh&#39;</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-3a8f2e478813&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>r<span class="ansi-blue-fg">=</span>rotor1<span class="ansi-blue-fg">.</span>plot_rotor<span class="ansi-blue-fg">(</span>plot_type<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;bokeh&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> show<span class="ansi-blue-fg">(</span>r<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;rotor1&#39; is not defined
</pre></div></div>
</div>
</div>
</div>
</div>
<div class="section" id="Running-the-simulation">
<h1>Running the simulation<a class="headerlink" href="#Running-the-simulation" title="Permalink to this headline">¶</a></h1>
<p>After you verify that everything is fine with the rotor, you should run the simulation and obtain results. To do that you only need to use the one of the <code class="docutils literal notranslate"><span class="pre">.run_()</span></code> methods available, as shown in like the code bellow.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rotor_speed</span> <span class="o">=</span> <span class="mi">10834</span><span class="o">/</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="n">modal</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_modal</span><span class="p">(</span><span class="n">rotor_speed</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">modal</span><span class="o">.</span><span class="n">log_dec</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">modal</span><span class="o">.</span><span class="n">wn</span><span class="o">*</span><span class="mi">60</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-4cb703ed3fad&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>rotor_speed <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">10834</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi
<span class="ansi-green-intense-fg ansi-bold">      2</span> modal <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>run_modal<span class="ansi-blue-fg">(</span>rotor_speed<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> print<span class="ansi-blue-fg">(</span>modal<span class="ansi-blue-fg">.</span>log_dec<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> print<span class="ansi-blue-fg">(</span>modal<span class="ansi-blue-fg">.</span>wn<span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">/</span><span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;np&#39; is not defined
</pre></div></div>
</div>
<div class="section" id="Obtaining-results">
<h2>Obtaining results<a class="headerlink" href="#Obtaining-results" title="Permalink to this headline">¶</a></h2>
<p>These are the following analysis you can do with the program: - Static analysis - Campbell Diagram - Frequency response - Unbalance response - Time response - Orbit response - Mode Shapes</p>
<div class="section" id="Static-analysis">
<h3>Static analysis<a class="headerlink" href="#Static-analysis" title="Permalink to this headline">¶</a></h3>
<p>This method gives a free body diagram and a amplificated plot of the rotor response to gravity effects.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">static</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_static</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-74a8716e359e&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>static <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>run_static<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;rotor1&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">show</span><span class="p">(</span><span class="n">static</span><span class="o">.</span><span class="n">plot_deformation</span><span class="p">())</span>
<span class="n">show</span><span class="p">(</span><span class="n">static</span><span class="o">.</span><span class="n">plot_free_body_diagram</span><span class="p">())</span>
<span class="n">show</span><span class="p">(</span><span class="n">static</span><span class="o">.</span><span class="n">plot_shearing_force</span><span class="p">())</span>
<span class="n">show</span><span class="p">(</span><span class="n">static</span><span class="o">.</span><span class="n">plot_bending_moment</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-39c8c5a3df5b&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>show<span class="ansi-blue-fg">(</span>static<span class="ansi-blue-fg">.</span>plot_deformation<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> show<span class="ansi-blue-fg">(</span>static<span class="ansi-blue-fg">.</span>plot_free_body_diagram<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> show<span class="ansi-blue-fg">(</span>static<span class="ansi-blue-fg">.</span>plot_shearing_force<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> show<span class="ansi-blue-fg">(</span>static<span class="ansi-blue-fg">.</span>plot_bending_moment<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;show&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Campbell-Diagram">
<h3>Campbell Diagram<a class="headerlink" href="#Campbell-Diagram" title="Permalink to this headline">¶</a></h3>
<p>In this example we can see the campbell diagram from 0 to 200 rad/s (~1900 RPM).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">campbell</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_campbell</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">11000</span><span class="o">/</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">show</span><span class="p">(</span><span class="n">campbell</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;bokeh&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-48cbaf5b1ed7&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>campbell <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>run_campbell<span class="ansi-blue-fg">(</span>np<span class="ansi-blue-fg">.</span>linspace<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">200</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">11000</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">100</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> show<span class="ansi-blue-fg">(</span>campbell<span class="ansi-blue-fg">.</span>plot<span class="ansi-blue-fg">(</span>plot_type<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;bokeh&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;rotor1&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Frenquency-Response">
<h3>Frenquency Response<a class="headerlink" href="#Frenquency-Response" title="Permalink to this headline">¶</a></h3>
<p>We can put the frequency response of selecting the input and output degree of freedom. - Input is the degree of freedom to be excited; - Output is the degree of freedom to be observed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">response</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_freq_response</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">10834</span><span class="o">/</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="n">show</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">inp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">out</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;bokeh&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-c0cc4109728b&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>response <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>run_freq_response<span class="ansi-blue-fg">(</span>np<span class="ansi-blue-fg">.</span>linspace<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">200</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">10834</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">100</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> show<span class="ansi-blue-fg">(</span>response<span class="ansi-blue-fg">.</span>plot<span class="ansi-blue-fg">(</span>inp<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span>out<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span>plot_type<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;bokeh&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;rotor1&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Unbalance-Response">
<h3>Unbalance Response<a class="headerlink" href="#Unbalance-Response" title="Permalink to this headline">¶</a></h3>
<p>This method returns the unbalanced response for a mdof system given magnitide and phase of the unbalance, the node where it’s applied and a frequency range.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>node : list, int
    Node where the unbalance is applied.
magnitude : list, float
    Unbalance magnitude (kg.m)
phase : list, float
    Unbalance phase (rad)
frequency_range : list, float
    Array with the desired range of frequencies
</pre></div>
</div>
<p>In this following example, we can obtain the response for a given unbalance (kg.m) and its respective phase in a selected node. Notice that it’s possible to add multiple unbalances instantiating node, magnitude and phase as lists.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">node</span> <span class="o">=</span> <span class="mi">55</span>
<span class="n">magnitude</span> <span class="o">=</span> <span class="mf">0.08</span>
<span class="n">phase</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">frequency_range</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10834</span><span class="o">/</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">unbalance</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">unbalance_response</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">,</span> <span class="n">phase</span><span class="p">,</span> <span class="n">frequency_range</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">unbalance</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dof</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;bokeh&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-44aa7e42d290&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> magnitude <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0.08</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> phase <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> </span>frequency_range<span class="ansi-blue-fg">=</span>np<span class="ansi-blue-fg">.</span>linspace<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">100</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">10834</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi<span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">100</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> unbalance <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>unbalance_response<span class="ansi-blue-fg">(</span>node<span class="ansi-blue-fg">,</span> magnitude<span class="ansi-blue-fg">,</span> phase<span class="ansi-blue-fg">,</span> frequency_range<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;np&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Time-Response">
<h3>Time Response<a class="headerlink" href="#Time-Response" title="Permalink to this headline">¶</a></h3>
<p>This function will take a rotor object and plot its time response given a force and a time.</p>
<p>This function takes the following parameters:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>F : array
    Force array (needs to have the same number of rows as time array and the number of columns as dof&#39;s).
    Each column corresponds to a dof and each row to a time.
t : array
    Time array.
dof : int
    Degree of freedom that will be observed.
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">speed</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">dof</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">size</span><span class="p">,</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">ndof</span><span class="p">))</span>
<span class="n">F</span><span class="p">[:,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
<span class="n">F</span><span class="p">[:,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">node</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_time_response</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">dof</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;bokeh&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-0ac4c7e18b24&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> size <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">1000</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> dof <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">13</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> </span>t <span class="ansi-blue-fg">=</span> np<span class="ansi-blue-fg">.</span>linspace<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">10</span><span class="ansi-blue-fg">,</span> size<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> F <span class="ansi-blue-fg">=</span> np<span class="ansi-blue-fg">.</span>zeros<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span>size<span class="ansi-blue-fg">,</span> rotor1<span class="ansi-blue-fg">.</span>ndof<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> F<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">4</span> <span class="ansi-blue-fg">*</span> node<span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">10</span> <span class="ansi-blue-fg">*</span> np<span class="ansi-blue-fg">.</span>cos<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span> <span class="ansi-blue-fg">*</span> t<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;np&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Calculate-Orbits">
<h3>Calculate Orbits<a class="headerlink" href="#Calculate-Orbits" title="Permalink to this headline">¶</a></h3>
<p>This function will take a rotor object and plot the orbit for a single node (2D graph) or all nodes (3D graph) given a forced and a time arrays . - 2D plot uses bokeh - 3D plot uses matplotlib</p>
<p>This function takes the following parameters:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>speed: float
    Rotor speed
F: array
    Force array (needs to have the same number of rows as time array).
    Each column corresponds to a dof and each row to a time.
t: array
    Time array.
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">speed</span> <span class="o">=</span> <span class="mf">150.0</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">node</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">size</span><span class="p">,</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">ndof</span><span class="p">))</span>
<span class="n">F</span><span class="p">[:,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
<span class="n">F</span><span class="p">[:,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">node</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_orbit_response</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>

<span class="c1"># plot 3D graph - orbits for all nodes:</span>
<span class="n">response</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-391fef67903f&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> size <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">1000</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> node <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">3</span>
<span class="ansi-green-fg">----&gt; 4</span><span class="ansi-red-fg"> </span>t <span class="ansi-blue-fg">=</span> np<span class="ansi-blue-fg">.</span>linspace<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">10</span><span class="ansi-blue-fg">,</span> size<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> F <span class="ansi-blue-fg">=</span> np<span class="ansi-blue-fg">.</span>zeros<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span>size<span class="ansi-blue-fg">,</span> rotor1<span class="ansi-blue-fg">.</span>ndof<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> F<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">4</span> <span class="ansi-blue-fg">*</span> node<span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">10</span> <span class="ansi-blue-fg">*</span> np<span class="ansi-blue-fg">.</span>cos<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">2</span> <span class="ansi-blue-fg">*</span> t<span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;np&#39; is not defined
</pre></div></div>
</div>
</div>
<div class="section" id="Mode-Shapes">
<h3>Mode Shapes<a class="headerlink" href="#Mode-Shapes" title="Permalink to this headline">¶</a></h3>
<p>You can also generate the plot for each mode shape.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">speed</span> <span class="o">=</span> <span class="mi">11000</span><span class="o">/</span><span class="mi">60</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="n">modes</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_modal</span><span class="p">(</span><span class="n">speed</span><span class="p">)</span>
<span class="n">modes</span><span class="o">.</span><span class="n">plot_mode</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-a6d2329244e1&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>speed <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">11000</span><span class="ansi-blue-fg">/</span><span class="ansi-cyan-fg">60</span><span class="ansi-blue-fg">*</span><span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">*</span>np<span class="ansi-blue-fg">.</span>pi
<span class="ansi-green-intense-fg ansi-bold">      2</span> modes <span class="ansi-blue-fg">=</span> rotor1<span class="ansi-blue-fg">.</span>run_modal<span class="ansi-blue-fg">(</span>speed<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> modes<span class="ansi-blue-fg">.</span>plot_mode<span class="ansi-blue-fg">(</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">NameError</span>: name &#39;np&#39; is not defined
</pre></div></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Team ROSS.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1.<br/>
    </p>
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-157532410-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-157532410-1');
</script>

  </body>
</html>