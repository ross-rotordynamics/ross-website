<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Tutorial &#8212; ross 0.1.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/sphinx_copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <link rel="shortcut icon" href="../_static/ross-logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../examples.html" />
    <link rel="prev" title="Installation" href="../installation.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/ross-logo.svg"></span>
          ross</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="#">Tutorial</a></li>
                <li><a href="../examples.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-python">Install Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#install-ross">Install ross</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#materials">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#element">Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shaftelement">ShaftElement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diskelement">DiskElement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bearingelement">BearingElement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rotor">Rotor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obtaining-results">Obtaining results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="example_05_08_01.html">Example 1 - Number of DOF influence in Natural Frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_08_02.html">Example 2 - Effect of varying slenderness ratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_01.html">Example 3 - Isotropic Bearings, asymmetrical rotor.</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_02.html">Example 4 - Anisotropic Bearings.</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_04.html">Example 5 - Cross-coupled bearings.</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_05.html">Example 6 - Isotropic bearings with damping.</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_06.html">Example 7 - Hydrodinamic Bearings</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_05_09_09.html">Example 8 - Overhung rotor.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api.html#module-ross.rotor_assembly">The Rotor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#module-ross.element">The “Element” class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#module-ross.materials">The “Material” class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#feedback-and-contribution">Feedback and Contribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#version-control-system-git">Version-control system: Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#code-style-black">Code style: Black</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#tests">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#integrated-development-environment-pycharm">Integrated development environment: PyCharm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#how-to-contribute-to-ross-using-git">How to contribute to ross using git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../release_notes.html#version-0-1-0-alpha-release">Version 0.1.0 (alpha release)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#materials">Materials</a><ul>
<li><a class="reference internal" href="#saving-a-material">Saving a Material</a></li>
<li><a class="reference internal" href="#loading-a-material">Loading a Material</a></li>
</ul>
</li>
<li><a class="reference internal" href="#element">Element</a></li>
<li><a class="reference internal" href="#shaftelement">ShaftElement</a></li>
<li><a class="reference internal" href="#diskelement">DiskElement</a><ul>
<li><a class="reference internal" href="#from-geometry-diskelement-instantiation">From geometry DiskElement instantiation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bearingelement">BearingElement</a><ul>
<li><a class="reference internal" href="#instantiating-bearings-from-excel-archives">Instantiating bearings from excel archives</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rotor">Rotor</a><ul>
<li><a class="reference internal" href="#from-section-instantiation-of-a-rotor">From section instantiation of a Rotor</a></li>
<li><a class="reference internal" href="#visualizing-the-rotor">Visualizing the Rotor</a></li>
<li><a class="reference internal" href="#running-the-simulation">Running the simulation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#obtaining-results">Obtaining results</a><ul>
<li><a class="reference internal" href="#static-analysis">Static analysis</a></li>
<li><a class="reference internal" href="#campbell-diagram">Campbell Diagram</a></li>
<li><a class="reference internal" href="#frenquency-response">Frenquency Response</a></li>
<li><a class="reference internal" href="#mode-shapes">Mode Shapes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/examples/tutorial.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://ross-rotordynamics.github.io/ross-website/_downloads/51a7c8bd4026689b99005339576b2193/tutorial.ipynb">Download This
Notebook</a></p>
<div class="line-block">
<div class="line">This is a basic tutorial on how to use ross (rotordynamics open-source
software), a Python library for rotordynamic analysis. The majority of
this code follows object-oriented coding, which is represented in this
<a class="reference external" href="https://user-images.githubusercontent.com/32821252/50386686-131c5200-06d3-11e9-9806-f5746295be81.png">UML
DIAGRAM</a>.</div>
<div class="line">In the following topics we are going to discuss the most relevant
classes for a quick start to use ROSS.</div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ross</span> <span class="k">as</span> <span class="nn">rs</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="k">import</span> <span class="n">output_notebook</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
<div class="bk-root">
    <a href="https://bokeh.pydata.org" target="_blank" class="bk-logo bk-logo-small bk-logo-notebook"></a>
    <span id="1001">Loading BokehJS ...</span>
</div><div class="section" id="materials">
<h2>Materials<a class="headerlink" href="#materials" title="Permalink to this headline">¶</a></h2>
<p>There is a class called Material to hold material’s properties, where:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>name : str
    Material name.
E : float
    Young&#39;s modulus (N/m**2).
G_s : float
    Shear modulus (N/m**2).
rho : float
    Density (N/m**3).
</pre></div>
</div>
<p>Note that, to instatiate a Material class, you only need to give 2 out
of the following parameters: ‘E’, ‘G_s’ ,‘Poisson’.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Steel</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Steel&quot;</span><span class="p">,</span> <span class="n">rho</span><span class="o">=</span><span class="mi">7810</span><span class="p">,</span> <span class="n">E</span><span class="o">=</span><span class="mf">211e9</span><span class="p">,</span> <span class="n">G_s</span><span class="o">=</span><span class="mf">81.2e9</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="saving-a-material">
<h3>Saving a Material<a class="headerlink" href="#saving-a-material" title="Permalink to this headline">¶</a></h3>
<p>To save an already instantiated Material object, you need to use the
following method.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Steel</span><span class="o">.</span><span class="n">save_material</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-a-material">
<h3>Loading a Material<a class="headerlink" href="#loading-a-material" title="Permalink to this headline">¶</a></h3>
<p>To load a material, first of all, use the available_materials() method
to check if your material is available in the database, then you should
use the Material.use_material(‘name’) method with the name of the
material as a parameter.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rs</span><span class="o">.</span><span class="n">Material</span><span class="o">.</span><span class="n">available_materials</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[&#39;AISI4140&#39;, &#39;Steel&#39;]
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">steel</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">Material</span><span class="o">.</span><span class="n">use_material</span><span class="p">(</span><span class="s1">&#39;Steel&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="element">
<h2>Element<a class="headerlink" href="#element" title="Permalink to this headline">¶</a></h2>
<p>Element is an abstract class (not directly used in the program), this
class is mainly used to organize the code and make it more intuitive.</p>
<ul class="simple">
<li><p>All the classes which derives from Element ends with Element in their
respective names.</p></li>
<li><p>Every element is placed in a node, which is the junction of two
elements.</p></li>
</ul>
</div>
<div class="section" id="shaftelement">
<h2>ShaftElement<a class="headerlink" href="#shaftelement" title="Permalink to this headline">¶</a></h2>
<p>There are two methods that you could use to model this element:</p>
<ul class="simple">
<li><p>Euler–Bernoulli beam Theory</p></li>
<li><p>Timoshenko beam Theory (used as default)</p></li>
</ul>
<div class="line-block">
<div class="line">This Element represents the rotor’s shaft, all the other elements are
correlated with this one.</div>
<div class="line">This class can be instantiated as the code that follows. Where (as per
the documentation):</div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>L : float
    Element length.
i_d : float
    Inner diameter of the element.
o_d : float
    Outer diameter of the element.
material : ross.material
    Shaft material.
n : int, optional
    Element number (coincident with it&#39;s first node).
    If not given, it will be set when the rotor is assembled
    according to the element&#39;s position in the list supplied to
    the rotor constructor.
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i_d</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">o_d</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">l_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>

<span class="n">shaft_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">rs</span><span class="o">.</span><span class="n">ShaftElement</span><span class="p">(</span><span class="n">L</span><span class="o">=</span><span class="n">l</span><span class="p">,</span>
                                  <span class="n">i_d</span><span class="o">=</span><span class="n">i_d</span><span class="p">,</span>
                                  <span class="n">o_d</span><span class="o">=</span><span class="n">o_d</span><span class="p">,</span>
                                  <span class="n">material</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
                                  <span class="n">shear_effects</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                  <span class="n">rotary_inertia</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                  <span class="n">gyroscopic</span><span class="o">=</span><span class="kc">True</span>
                                  <span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">l_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="diskelement">
<h2>DiskElement<a class="headerlink" href="#diskelement" title="Permalink to this headline">¶</a></h2>
<p>This class represents a Disk element. We can see an example of
instantiation of this class in the following lines of code.</p>
<p>Where:</p>
<p>This class can be instantiated as the code that follows.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>n: int
    Node in which the disk will be inserted.
m : float
    Mass of the disk element.
Id : float
    Diametral moment of inertia.
Ip : float
    Polar moment of inertia
</pre></div>
</div>
<p>All the values are following the S.I. convention for the units.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Disk</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mf">32.58972765</span><span class="p">,</span> <span class="n">Id</span><span class="o">=</span><span class="mf">0.17808928</span><span class="p">,</span> <span class="n">Ip</span><span class="o">=</span><span class="mf">0.32956362</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Disk</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DiskElement(Id=0.17809, Ip=0.32956, m=32.59, color=&#39;#bc625b&#39;, n=0)
</pre></div>
</div>
<div class="section" id="from-geometry-diskelement-instantiation">
<h3>From geometry DiskElement instantiation<a class="headerlink" href="#from-geometry-diskelement-instantiation" title="Permalink to this headline">¶</a></h3>
<p>Besides the instatiation previously explained, there is a way to
instantiate a DiskElement with only geometrical parameters (for
cylindrical disks) and the material which this disk is made of, as we
can see in the following code.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>n: int
    Node in which the disk will be inserted.
material : lavirot.Material
     Shaft material.
width: float
    The disk width.
i_d: float
    Inner diameter.
o_d: float
    Outer diameter.
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">disk0</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="o">.</span><span class="n">from_geometry</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">material</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
                                     <span class="n">width</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span>
                                     <span class="n">i_d</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                     <span class="n">o_d</span><span class="o">=</span><span class="mf">0.28</span><span class="p">)</span>
<span class="n">disk1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="o">.</span><span class="n">from_geometry</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                                     <span class="n">material</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
                                     <span class="n">width</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span>
                                     <span class="n">i_d</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                     <span class="n">o_d</span><span class="o">=</span><span class="mf">0.28</span><span class="p">)</span>
<span class="n">disks</span> <span class="o">=</span> <span class="p">[</span><span class="n">disk0</span><span class="p">,</span><span class="n">disk1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="bearingelement">
<h2>BearingElement<a class="headerlink" href="#bearingelement" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">As it says on the name, this class is a bearing.</div>
<div class="line">The following code demonstrate how to properly instantiate it.</div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>n: int
    Node which the bearing will be located in
kxx: float, array
    Direct stiffness in the x direction.
cxx: float, array
    Direct damping in the x direction.
kyy: float, array, optional
    Direct stiffness in the y direction.
    (defaults to kxx)
cyy: float, array, optional
    Direct damping in the y direction.
    (defaults to cxx)
kxy: float, array, optional
    Cross coupled stiffness in the x direction.
    (defaults to 0)
cxy: float, array, optional
    Cross coupled damping in the x direction.
    (defaults to 0)
kyx: float, array, optional
    Cross coupled stiffness in the y direction.
    (defaults to 0)
cyx: float, array, optional
    Cross coupled damping in the y direction.
    (defaults to 0)
w: array, optional
    Array with the speeds (rad/s).
</pre></div>
</div>
<p>P.S.: Note that the coefficients could be an array with different
coefficients for different rotation speeds, in that case you only have
to give a parameter ‘w’ which is a array with the same size as the
coefficients array.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stfx</span> <span class="o">=</span> <span class="mf">1e6</span>
<span class="n">stfy</span> <span class="o">=</span> <span class="mf">0.8e6</span>
<span class="n">bearing0</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="n">stfx</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="n">stfy</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
<span class="n">bearing1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="n">stfx</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="n">stfy</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
<span class="n">bearings</span> <span class="o">=</span> <span class="p">[</span><span class="n">bearing0</span><span class="p">,</span> <span class="n">bearing1</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="instantiating-bearings-from-excel-archives">
<h3>Instantiating bearings from excel archives<a class="headerlink" href="#instantiating-bearings-from-excel-archives" title="Permalink to this headline">¶</a></h3>
<p>There’s a class method to instantiate a bearing from excel tables, as we
can see in the following code.</p>
<p><strong>There will be a class method to instantiate a bearing from excel
tables. - work in progress</strong></p>
</div>
</div>
<div class="section" id="rotor">
<h2>Rotor<a class="headerlink" href="#rotor" title="Permalink to this headline">¶</a></h2>
<p>This class takes as argument lists with all elements program and
assembles the mass, damping and stiffness global matrices for the
system. It also outputs all the results classes obtained by the
simulation.</p>
<p>To use this class, you only have to give all the already instantiated
elements in a list format, as it follows.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rotor1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">Rotor</span><span class="p">(</span><span class="n">shaft_elements</span><span class="p">,</span>
                  <span class="n">disks</span><span class="p">,</span>
                  <span class="n">bearings</span>
                  <span class="p">)</span>
</pre></div>
</div>
<div class="section" id="from-section-instantiation-of-a-rotor">
<h3>From section instantiation of a Rotor<a class="headerlink" href="#from-section-instantiation-of-a-rotor" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">In this form of instantiation, the number of shaft elements used in
FEM are not fixed, instead, the program does a convergence analysis,
testing the number of elements to a point where the relative error
between iterations reaches a value that can be neglected.</div>
<div class="line">To use this method, you should divide the rotor in a way where the
number of shaft elements is minimal and place every element (except
for the shaft elements) in the minimal nodes</div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i_d</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">o_d</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="n">i_ds_data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">o_ds_data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>
<span class="n">leng_data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>

<span class="n">stfx</span> <span class="o">=</span> <span class="mf">1e6</span>
<span class="n">stfy</span> <span class="o">=</span> <span class="mf">0.8e6</span>
<span class="n">bearing0</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="n">stfx</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="n">stfy</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
<span class="n">bearing1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">BearingElement</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">kxx</span><span class="o">=</span><span class="n">stfx</span><span class="p">,</span> <span class="n">kyy</span><span class="o">=</span><span class="n">stfy</span><span class="p">,</span> <span class="n">cxx</span><span class="o">=</span><span class="mf">1e3</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
<span class="n">bearings</span> <span class="o">=</span> <span class="p">[</span><span class="n">bearing0</span><span class="p">,</span> <span class="n">bearing1</span><span class="p">]</span>

<span class="n">disk0</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="o">.</span><span class="n">from_geometry</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                     <span class="n">material</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
                                     <span class="n">width</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span>
                                     <span class="n">i_d</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                     <span class="n">o_d</span><span class="o">=</span><span class="mf">0.28</span>
                                    <span class="p">)</span>
<span class="n">disk1</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">DiskElement</span><span class="o">.</span><span class="n">from_geometry</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                     <span class="n">material</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
                                     <span class="n">width</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span>
                                     <span class="n">i_d</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                                     <span class="n">o_d</span><span class="o">=</span><span class="mf">0.28</span>
                                    <span class="p">)</span>
<span class="n">disks</span> <span class="o">=</span> <span class="p">[</span><span class="n">disk0</span><span class="p">,</span><span class="n">disk1</span><span class="p">]</span>

<span class="n">rotor2</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">Rotor</span><span class="o">.</span><span class="n">from_section</span><span class="p">(</span><span class="n">brg_seal_data</span><span class="o">=</span><span class="n">bearings</span><span class="p">,</span>
                               <span class="n">disk_data</span><span class="o">=</span><span class="n">disks</span><span class="p">,</span>
                               <span class="n">i_ds_data</span><span class="o">=</span><span class="n">i_ds_data</span><span class="p">,</span>
                               <span class="n">leng_data</span><span class="o">=</span><span class="n">leng_data</span><span class="p">,</span>
                               <span class="n">o_ds_data</span><span class="o">=</span><span class="n">o_ds_data</span><span class="p">,</span>
                              <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="visualizing-the-rotor">
<h3>Visualizing the Rotor<a class="headerlink" href="#visualizing-the-rotor" title="Permalink to this headline">¶</a></h3>
<p>It is interesting to plot the rotor to check if the geometry checks with
what you wanted to instantiate, you can plot it with the following code.</p>
<p>Note: For almost every plot functions, there are two options for plots,
one with bokeh library and one with matplotlib.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rotor1</span><span class="o">.</span><span class="n">plot_rotor</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x...&gt;
</pre></div>
</div>
<img alt="../_images/tutorial_36_1.png" src="../_images/tutorial_36_1.png" />
</div>
<div class="section" id="running-the-simulation">
<h3>Running the simulation<a class="headerlink" href="#running-the-simulation" title="Permalink to this headline">¶</a></h3>
<p>After you verify that everything is fine with the rotor, you should run
the simulation and obtain results. To do that you only need to use the
one of the <code class="docutils literal notranslate"><span class="pre">run_()</span></code> methods available, as shown in like the code
bellow.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rotor1</span><span class="o">.</span><span class="n">run_modal</span><span class="p">()</span>
<span class="n">rotor2</span><span class="o">.</span><span class="n">run_modal</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="obtaining-results">
<h2>Obtaining results<a class="headerlink" href="#obtaining-results" title="Permalink to this headline">¶</a></h2>
<p>These are the following analysis you can do with the program: - Static
analysis - Campbell Diagram - Frequency response - Forced response -
Mode Shapes</p>
<div class="section" id="static-analysis">
<h3>Static analysis<a class="headerlink" href="#static-analysis" title="Permalink to this headline">¶</a></h3>
<p>This method gives a free body diagram and a amplificated plot of the
rotor response to gravity effects.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_static</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="campbell-diagram">
<h3>Campbell Diagram<a class="headerlink" href="#campbell-diagram" title="Permalink to this headline">¶</a></h3>
<p>In this example we can see the campbell diagram from 0 to 4000 RPM.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">campbell</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_campbell</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">101</span><span class="p">))</span>
<span class="n">campbell</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(&lt;Figure size 432x288 with 2 Axes&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x...&gt;)
</pre></div>
</div>
<img alt="../_images/tutorial_42_1.png" src="../_images/tutorial_42_1.png" />
</div>
<div class="section" id="frenquency-response">
<h3>Frenquency Response<a class="headerlink" href="#frenquency-response" title="Permalink to this headline">¶</a></h3>
<p>We can put the frequency response of selecting the input and output
node.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rotor1</span><span class="o">.</span><span class="n">run_freq_response</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">inp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">out</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/tutorial_44_0.png" src="../_images/tutorial_44_0.png" />
</div>
<div class="section" id="mode-shapes">
<h3>Mode Shapes<a class="headerlink" href="#mode-shapes" title="Permalink to this headline">¶</a></h3>
<p>You can also generate the plot for each mode shape.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modes</span> <span class="o">=</span> <span class="n">rotor1</span><span class="o">.</span><span class="n">run_mode_shapes</span><span class="p">()</span>
<span class="n">modes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(&lt;Figure size 1080x...xes&gt;,
 &lt;matplotlib.axes._subplots.Axes3DSubplot at 0x...&gt;)
</pre></div>
</div>
<img alt="../_images/tutorial_46_1.png" src="../_images/tutorial_46_1.png" />
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Team Ross.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>